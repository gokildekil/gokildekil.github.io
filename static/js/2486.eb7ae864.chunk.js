"use strict";(self.webpackChunkpiket=self.webpackChunkpiket||[]).push([[2486,1323,7691],{1091:function(e,a,n){n.d(a,{M:function(){return t}});var s=n(8284),l=n(1323),r=n(7691),i=n(184),t=function(e){var a=e.error.response,n=a.status,t=void 0===n?500:n,o=a.data,c=void 0===o?"Unable to process request.":o;return 404===t?(0,i.jsx)(s.default,{message:c}):403===t?(0,i.jsx)(l.default,{message:c}):(0,i.jsx)(r.default,{message:c})}},8355:function(e,a,n){var s=n(4165),l=n(5861),r=n(1413),i=n(885),t=n(2791),o=n(6871),c=n(4018),d=n(1933),u=n(4072),m=n(4621);a.Z=function(e){var a=e.props,n=e.formDefaultValues,p=e.afterSubmit,h=(0,c.Z)(),v=(0,u.Z)(),g=(0,o.UO)().pageid,f=(0,t.useState)(null),x=(0,i.Z)(f,2),j=x[0],N=x[1],b=(0,t.useState)(n),y=(0,i.Z)(b,2),k=y[0],_=y[1],P=(0,t.useState)(!1),C=(0,i.Z)(P,2),w=C[0],E=C[1],Z=a.id||g;Z=Z||"";var R="".concat(a.apiPath,"/").concat(Z),S=(0,d.useQuery)([a.pageName,R],(function(){return v.get(R).then((function(e){return null===e||void 0===e?void 0:e.data}))}),{retry:!1}),K=S.isLoading,F=S.isError,B=S.data,M=S.error;(0,t.useEffect)((function(){if(B){var e=function(e){var a=(0,r.Z)({},e);return Object.keys(a).forEach((function(e){var s=a[e],l=n[e];Array.isArray(l)?a[e]=s?s.toString().split(","):l:l instanceof Date&&s&&(a[e]=new Date(s))})),a}(B);_(e),N(B),E(!0)}}),[B,F]);var V=(0,d.useQueryClient)(),D=(0,d.useMutation)((function(e){var a=function(e){var a=(0,r.Z)({},e);return Object.keys(a).forEach((function(e){var n=a[e];if(Array.isArray(n)){var s=n[0];a[e]=s&&"string"==typeof s?n.toString():n}else n instanceof Date?a[e]=n.toISOString().slice(0,19).replace("T"," "):""===n&&(a[e]=null)})),a}(e);return v.post(R,a).then((function(e){return null===e||void 0===e?void 0:e.data}))}),{retry:!1,onSuccess:function(e){V.invalidateQueries(a.pageName),p&&p(e)},onError:function(e){h.showPageRequestError(e)}});var L={currentRecord:j,formData:k,inputClassName:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w-full";return e?"".concat(a," p-invalid"):a},setFormData:_,handleSubmit:function(e,n){n.isValid||h.flashMsg(a.formValidationError,a.formValidationMsg,"error")},submitForm:function(e){var n=a.msgBeforeSave;n?(0,m.V)({header:a.msgTitle,message:n,icon:"pi pi-save",accept:function(){var a=(0,l.Z)((0,s.Z)().mark((function a(){return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:D.mutate(e);case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),reject:function(){}}):D.mutate(e)},setCurrentRecord:N,pageReady:w,saving:D.isLoading,loading:K,apiRequestError:M};return(0,t.useMemo)((function(){return L}),[k,j,w,D.isLoading,K,M])}},1323:function(e,a,n){n.r(a);n(2791);var s=n(919),l=n(7162),r=n(4018),i=n(184),t=function(e){var a=(0,r.Z)();return(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"grid flex-column align-items-center card",children:[(0,i.jsx)("div",{className:"text-pink-500 font-bold text-5xl",children:"403"}),(0,i.jsx)(l.q,{size:"xlarge",icon:"pi pi-lock",className:"text-pink-500 bg-pink-100  my-4"}),(0,i.jsx)("div",{className:"text-900 font-medium text-3xl mb-2",children:e.message}),(0,i.jsx)("div",{className:"text-gray-600",children:"You do not have the necesary permisions. Please contact admins."}),(0,i.jsx)("div",{className:"mt-5 text-center",children:(0,i.jsx)(s.z,{onClick:function(){return a.navigate("/home")},icon:"pi pi-arrow-left",label:"Home"})})]})})};t.defaultProps={message:"Access Denied"},a.default=t},7691:function(e,a,n){n.r(a);n(2791);var s=n(919),l=n(7162),r=n(4018),i=n(184),t=function(e){var a=(0,r.Z)();return(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"grid flex-column align-items-center card",children:[(0,i.jsx)("div",{className:"text-pink-500 font-bold text-5xl",children:"500"}),(0,i.jsx)(l.q,{size:"xlarge",icon:"pi pi-lock",className:"text-pink-500 bg-pink-100  my-4"}),(0,i.jsx)("div",{className:"text-900 font-medium text-3xl mb-2",children:e.message}),(0,i.jsx)("div",{className:"text-gray-600",children:"An error occurred while processing your request. Please contact the Administrator for more information"}),(0,i.jsx)("div",{className:"mt-5 text-center",children:(0,i.jsx)(s.z,{onClick:function(){return a.navigate("/home")},icon:"pi pi-arrow-left",label:"Home"})})]})})};t.defaultProps={message:"Access Denied"},a.default=t},2486:function(e,a,n){n.r(a);var s=n(5705),l=n(9562),r=n(919),i=n(7201),t=n(3540),o=n(8550),c=n(3014),d=n(8218),u=n(1091),m=n(2557),p=n(3898),h=n(4018),v=n(8355),g=n(184),f=function(e){var a=(0,h.Z)(),n=l.Ry().shape({tanggal:l.Z_().nullable().label("Tanggal"),nama:l.Z_().required().label("Nama Guru"),bidang_study:l.Z_().required().label("Mata Pelajaran"),kelas:l.Z_().required().label("Kelas"),jurusan:l.Z_().required().label("Jurusan"),jam_ke:l.Z_().required().label("Jam Mengajar Ke"),kehadiran:l.IX().min(1).label("Kehadiran"),keterangan:l.Z_().nullable().label("Keterangan")}),f=(0,v.Z)({props:e,formDefaultValues:{tanggal:"NULL",nama:"",bidang_study:"",kelas:"",jurusan:"",jam_ke:"",kehadiran:[],keterangan:""},afterSubmit:function(n){a.flashMsg(e.msgTitle,e.msgAfterSave),a.isDialogOpen()?a.closeDialogs():e.redirect&&a.navigate("/kbm_guru")}}),x=f.formData,j=f.handleSubmit,N=f.submitForm,b=f.pageReady,y=f.loading,k=f.saving,_=f.apiRequestError,P=f.inputClassName;return y?(0,g.jsx)("div",{className:"p-3 text-center",children:(0,g.jsx)(m.G,{style:{width:"50px",height:"50px"}})}):_?(0,g.jsx)(u.M,{error:_}):b?(0,g.jsxs)("main",{id:"KbmGuruEditPage",className:"main-page",children:[e.showHeader&&(0,g.jsx)("section",{className:"page-section mb-3",children:(0,g.jsx)("div",{className:"container",children:(0,g.jsxs)("div",{className:"grid align-items-center",children:[!e.isSubPage&&(0,g.jsx)("div",{className:"col-fixed ",children:(0,g.jsx)(r.z,{onClick:function(){return a.navigate(-1)},label:"",className:"p-button p-button-text ",icon:"pi pi-arrow-left"})}),(0,g.jsx)("div",{className:"col ",children:(0,g.jsx)(p.D,{title:"Edit Kbm Guru",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})})]})})}),(0,g.jsx)("section",{className:"page-section ",children:(0,g.jsx)("div",{className:"container",children:(0,g.jsx)("div",{className:"grid ",children:(0,g.jsx)("div",{className:"md:col-9 sm:col-12 comp-grid",children:(0,g.jsx)("div",{children:(0,g.jsx)(s.J9,{initialValues:x,validationSchema:n,onSubmit:function(e,a){N(e)},children:function(n){var l,u,m;return(0,g.jsxs)(s.l0,{className:"".concat(e.isSubPage?"":"card "),children:[(0,g.jsxs)("div",{className:"grid",children:[(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)("div",{className:"formgrid grid",children:[(0,g.jsx)("div",{className:"col-12 md:col-3",children:"Tanggal"}),(0,g.jsxs)("div",{className:"col-12 md:col-9",children:[(0,g.jsx)(i.f,{name:"tanggal",showButtonBar:!0,className:P(null===n||void 0===n||null===(l=n.errors)||void 0===l?void 0:l.tanggal),dateFormat:"yy-mm-dd",value:n.values.tanggal,onChange:n.handleChange,showIcon:!0}),(0,g.jsx)(s.Bc,{name:"tanggal",component:"span",className:"p-error"})]})]})}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)("div",{className:"formgrid grid",children:[(0,g.jsx)("div",{className:"col-12 md:col-3",children:"Nama Guru *"}),(0,g.jsx)("div",{className:"col-12 md:col-9",children:(0,g.jsx)(o.o,{apiPath:"components_data/nama_option_list",children:function(e){var a,l=e.response;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.L,{name:"nama",optionLabel:"label",optionValue:"value",value:n.values.nama,onChange:n.handleChange,options:l,label:"Nama Guru",placeholder:"Pilih Guru",className:P(null===n||void 0===n||null===(a=n.errors)||void 0===a?void 0:a.nama)}),(0,g.jsx)(s.Bc,{name:"nama",component:"span",className:"p-error"})]})}})})]})}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)("div",{className:"formgrid grid",children:[(0,g.jsx)("div",{className:"col-12 md:col-3",children:"Mata Pelajaran *"}),(0,g.jsx)("div",{className:"col-12 md:col-9",children:(0,g.jsx)(o.o,{apiPath:"components_data/bidang_study_option_list",children:function(e){var a,l=e.response;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.L,{name:"bidang_study",optionLabel:"label",optionValue:"value",value:n.values.bidang_study,onChange:n.handleChange,options:l,label:"Mata Pelajaran",placeholder:"Pilih Mata Pelajaran",className:P(null===n||void 0===n||null===(a=n.errors)||void 0===a?void 0:a.bidang_study)}),(0,g.jsx)(s.Bc,{name:"bidang_study",component:"span",className:"p-error"})]})}})})]})}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)("div",{className:"formgrid grid",children:[(0,g.jsx)("div",{className:"col-12 md:col-3",children:"Kelas *"}),(0,g.jsx)("div",{className:"col-12 md:col-9",children:(0,g.jsx)(o.o,{apiPath:"components_data/kelas_option_list",children:function(e){var a,l=e.response;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.L,{name:"kelas",optionLabel:"label",optionValue:"value",value:n.values.kelas,onChange:n.handleChange,options:l,label:"Kelas",placeholder:"Pilih Kelas",className:P(null===n||void 0===n||null===(a=n.errors)||void 0===a?void 0:a.kelas)}),(0,g.jsx)(s.Bc,{name:"kelas",component:"span",className:"p-error"})]})}})})]})}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)("div",{className:"formgrid grid",children:[(0,g.jsx)("div",{className:"col-12 md:col-3",children:"Jurusan *"}),(0,g.jsxs)("div",{className:"col-12 md:col-9",children:[(0,g.jsx)(c.L,{name:"jurusan",optionLabel:"label",optionValue:"value",value:n.values.jurusan,onChange:n.handleChange,options:a.menus.jurusanItems,label:"Jurusan",placeholder:"Pilih Jurusan",className:P(null===n||void 0===n||null===(u=n.errors)||void 0===u?void 0:u.jurusan)}),(0,g.jsx)(s.Bc,{name:"jurusan",component:"span",className:"p-error"})]})]})}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)("div",{className:"formgrid grid",children:[(0,g.jsx)("div",{className:"col-12 md:col-3",children:"Jam Mengajar Ke *"}),(0,g.jsx)("div",{className:"col-12 md:col-9",children:(0,g.jsx)(o.o,{apiPath:"components_data/jam_ke_option_list",children:function(e){var a,l=e.response;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.L,{name:"jam_ke",optionLabel:"label",optionValue:"value",value:n.values.jam_ke,onChange:n.handleChange,options:l,label:"Jam Mengajar Ke",placeholder:"Pilh Jam Mengajar",className:P(null===n||void 0===n||null===(a=n.errors)||void 0===a?void 0:a.jam_ke)}),(0,g.jsx)(s.Bc,{name:"jam_ke",component:"span",className:"p-error"})]})}})})]})}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)("div",{className:"formgrid grid",children:[(0,g.jsx)("div",{className:"col-12 md:col-3",children:"Kehadiran *"}),(0,g.jsxs)("div",{className:"col-12 md:col-9",children:[a.menus.kehadiranItems.map((function(e){var a;return(0,g.jsxs)("div",{className:"field-checkbox",children:[(0,g.jsx)(t.X,{inputId:e.value,name:"kehadiran",value:e.value,onChange:n.handleChange,checked:n.values.kehadiran.includes(e.value),className:P(null===n||void 0===n||null===(a=n.errors)||void 0===a?void 0:a.kehadiran,"")}),(0,g.jsx)("label",{htmlFor:e.value,children:e.label})]},e.value)})),(0,g.jsx)(s.Bc,{name:"kehadiran",component:"span",className:"p-error"})]})]})}),(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)("div",{className:"formgrid grid",children:[(0,g.jsx)("div",{className:"col-12 md:col-3",children:"Keterangan"}),(0,g.jsxs)("div",{className:"col-12 md:col-9",children:[(0,g.jsx)(d.g,{name:"keterangan",className:P(null===n||void 0===n||null===(m=n.errors)||void 0===m?void 0:m.keterangan),value:n.values.keterangan,placeholder:"Keterangan",onChange:n.handleChange}),(0,g.jsx)(s.Bc,{name:"keterangan",component:"span",className:"p-error"})]})]})})]}),e.showFooter&&(0,g.jsx)("div",{className:"text-center my-3",children:(0,g.jsx)(r.z,{onClick:function(e){return j(e,n)},type:"submit",label:"Perbaharui",icon:"pi pi-send",loading:k})})]})}})})})})})})]}):void 0};f.defaultProps={primaryKey:"id_kehadiran_ajar",pageName:"kbm_guru",apiPath:"kbm_guru/edit",routeName:"kbm_guruedit",submitButtonLabel:"Perbaharui",formValidationError:"Form is invalid",formValidationMsg:"Please complete the form",msgTitle:"Update Record",msgAfterSave:"Data Berhasil Di Perbaharui !",msgBeforeSave:"",showHeader:!0,showFooter:!0,redirect:!0,isSubPage:!1},a.default=f},8218:function(e,a,n){n.d(a,{g:function(){return t}});var s=n(2791),l=n(3574),r=n(5854);function i(){return i=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i.apply(this,arguments)}var t=s.memo(s.forwardRef((function(e,a){var n=s.useRef(a),o=s.useRef(0),c=function(e){var a=n.current;a&&r.p7.isVisible(a)&&(o.current||(o.current=a.scrollHeight,a.style.overflow="hidden"),(o.current!==a.scrollHeight||e)&&(a.style.height="",a.style.height=a.scrollHeight+"px",parseFloat(a.style.height)>=parseFloat(a.style.maxHeight)?(a.style.overflowY="scroll",a.style.height=a.style.maxHeight):a.style.overflow="hidden",o.current=a.scrollHeight))},d=s.useMemo((function(){return r.gb.isNotEmpty(e.value)||r.gb.isNotEmpty(e.defaultValue)||n.current&&r.gb.isNotEmpty(n.current.value)}),[e.value,e.defaultValue]);s.useEffect((function(){r.gb.combinedRefs(n,a)}),[n,a]),s.useEffect((function(){e.autoResize&&c(!0)}),[e.autoResize]);var u=r.gb.isNotEmpty(e.tooltip),m=r.gb.findDiffKeys(e,t.defaultProps),p=(0,r.AK)("p-inputtextarea p-inputtext p-component",{"p-disabled":e.disabled,"p-filled":d,"p-inputtextarea-resizable":e.autoResize},e.className);return s.createElement(s.Fragment,null,s.createElement("textarea",i({ref:n},m,{className:p,onFocus:function(a){e.autoResize&&c(),e.onFocus&&e.onFocus(a)},onBlur:function(a){e.autoResize&&c(),e.onBlur&&e.onBlur(a)},onKeyUp:function(a){e.autoResize&&c(),e.onKeyUp&&e.onKeyUp(a)},onInput:function(a){e.autoResize&&c(),e.onInput&&e.onInput(a);var n=a.target;r.gb.isNotEmpty(n.value)?r.p7.addClass(n,"p-filled"):r.p7.removeClass(n,"p-filled")}})),u&&s.createElement(l.u,i({target:n,content:e.tooltip},e.tooltipOptions)))})));t.displayName="InputTextarea",t.defaultProps={__TYPE:"InputTextarea",autoResize:!1,tooltip:null,tooltipOptions:null,onInput:null}}}]);
//# sourceMappingURL=2486.eb7ae864.chunk.js.map