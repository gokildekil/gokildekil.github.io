"use strict";(self.webpackChunkpiket=self.webpackChunkpiket||[]).push([[1975],{229:function(e,a,n){n.d(a,{h:function(){return u}});var t=n(2791),r=n(894),l=n(4018),s=n(4072),o=n(919),i=n(1085),c=n(184),u=function(e){var a=(0,s.Z)(),n=(0,l.Z)(),u=(0,r.Z)(),d=(0,t.useRef)(null),p=e.pdf,m=e.csv,f=e.excel,g=(e.pageName,e.print,e.downloadFileName),h=e.pageUrl,x=e.buttonLabel,b=e.buttonTitle,v=e.buttonIcon,j=[];function y(e,t){t=t||e;var r={export:e},l=u.setApiPath(h,r),s="".concat(g,".").concat(t);n.showAppLoading("Exporting records..."),a.download(l).then((function(e){var a=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=a,t.setAttribute("download",s),document.body.appendChild(t),t.click(),t.remove(),n.showAppLoading(!1)}),(function(e){console.error(e),n.showAppLoading(!1),alert("Unable to download file")}))}if(m&&j.push({label:"Csv",icon:"pi pi-table text-green-200",command:function(){y("csv")}}),p&&j.push({label:"Pdf",icon:"pi pi-file-pdf text-pink-500",command:function(){y("pdf")}}),f&&j.push({label:"Excel",icon:"pi pi-file-excel text-green-500",command:function(){y("excel","xlsx")}}),p||m||f)return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.z,{onClick:function(e){return d.current.toggle(e)},label:x,tooltip:b,icon:v}),(0,c.jsx)(i.v,{ref:d,popup:!0,model:j})]})};u.defaultProps={pdf:!0,csv:!0,excel:!0,print:!0,pageUrl:"",downloadFileName:"records",buttonTitle:"Export Data",buttonLabel:"Export",buttonIcon:"pi pi-print"}},6149:function(e,a,n){n.r(a);var t=n(5888),r=n(7201),l=n(1063),s=n(9542),o=n(229),i=n(3301),c=n(9025),u=n(1091),d=n(8784),p=(n(2557),n(3898)),m=n(894),f=n(1455),g=n(7824),h=n(184),x=function(e){var a=(0,m.Z)(),n=(0,g.Z)({search:{tagTitle:"Search",value:"",valueType:"single",options:[]},laporan_tanggal:{tagTitle:"Tanggal",value:[],valueType:"range-date",options:[]}}),x=(0,f.Z)(e,n),b=x.records,v=x.pageReady,j=x.loading,y=x.apiUrl,N=x.sortBy,w=x.sortOrder,P=x.apiRequestError,k=x.getPageBreadCrumbs,E=x.onSort,C=x.pagination,T=n.filters,D=n.setFilterValue,A=C.totalRecords,R=C.totalPages,S=C.recordsPosition,I=C.firstRow,F=(C.currentPage,C.limit),K=C.onPageChange;function _(){if(v&&!b.length)return(0,h.jsx)("div",{className:"text-lg mt-3 p-3 text-center text-400 font-bold",children:"Tidak Ada Di Temukan !"})}function L(){if(e.exportData&&b.length){var n="".concat(a.dateNow(),"-laporan");return(0,h.jsx)("div",{className:"m-2",children:(0,h.jsx)(o.h,{pageUrl:y,downloadFileName:n,butonLabel:"Print",tooltip:"Export",buttonIcon:"pi pi-print"})})}}function O(){if(e.paginate&&R>1){var a={layout:C.layout,CurrentPageReport:function(e){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"text-sm text-gray-500 px-2",children:["Page ",(0,h.jsxs)("b",{children:[e.currentPage," of ",e.totalPages]})]}),(0,h.jsxs)("span",{className:"text-sm text-gray-500 px-2",children:["Records ",(0,h.jsxs)("b",{children:[S," of ",e.totalRecords]})]})]})}};return(0,h.jsx)("div",{className:"flex-grow-1",children:(0,h.jsx)(d.D,{first:I,rows:F,totalRecords:A,rowsPerPageOptions:[5,10,20,30,50,100,200,500,1e3],onPageChange:K,template:a})})}}function Z(){if(v&&e.showFooter)return(0,h.jsxs)("div",{className:"flex flex-wrap justify-content-between",children:[(0,h.jsx)(L,{}),(0,h.jsx)(O,{})]})}function M(){if(e.showBreadcrumbs){var a=k();return a.length>0&&(0,h.jsx)(t.c,{className:"mb-3",model:a})}}return P?(0,h.jsx)(u.M,{error:P}):(0,h.jsxs)("main",{id:"LaporanListPage",className:"main-page",children:[e.showHeader&&(0,h.jsx)("section",{className:"page-section mb-3",children:(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsxs)("div",{className:"grid justify-content-between align-items-center",children:[(0,h.jsx)("div",{className:"col ",children:(0,h.jsx)(p.D,{title:"Laporan kbm ",subTitle:"smk bhakti loa janan",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})}),(0,h.jsx)("div",{className:"col-12 md:col-5 lg:col-4 ",children:(0,h.jsxs)("span",{className:"p-input-icon-left w-full",children:[(0,h.jsx)("i",{className:"pi pi-search"}),(0,h.jsx)(c.o,{placeholder:"Cari Nama Guru",className:"w-full",value:T.search.value,onChange:function(e){return D("search",e.target.value)}})]})})]})})}),(0,h.jsx)("section",{className:"page-section mb-3",children:(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsx)("div",{className:"grid ",children:(0,h.jsx)("div",{className:"col-12 md:col-5 lg:col-4 comp-grid",children:(0,h.jsxs)("div",{className:"card p-3 mb-4",children:[(0,h.jsx)(p.D,{title:"Filter Tanggal",titleClass:"font-bold text-lg",subTitleClass:"text-sm text-500",separator:!1}),(0,h.jsx)("div",{className:"px-3 pb-3",children:(0,h.jsx)(r.f,{showIcon:!0,showButtonBar:!0,dateFormat:"yy-mm-dd",hourFormat:"24",className:"w-full",selectionMode:"range",value:T.laporan_tanggal.value,onChange:function(e){return D("laporan_tanggal",e.value)},placeholder:"Pilih Tanggal"})})]})})})})}),(0,h.jsx)("section",{className:"page-section ",children:(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsx)("div",{className:"grid ",children:(0,h.jsxs)("div",{className:"col comp-grid",children:[(0,h.jsx)(i.W,{filterController:n}),(0,h.jsxs)("div",{children:[(0,h.jsx)(M,{}),(0,h.jsxs)("div",{className:"".concat(e.isSubPage?"":"card "),children:[(0,h.jsx)("div",{className:"page-records",children:(0,h.jsxs)(s.w,{lazy:!0,loading:j,value:b,dataKey:"nama_bidang",sortField:N,sortOrder:w,onSort:E,className:" p-datatable-sm",stripedRows:!0,showGridlines:!1,rowHover:!0,responsiveLayout:"stack",emptyMessage:(0,h.jsx)(_,{}),children:[(0,h.jsx)(l.s,{field:"tanggal",header:"Tanggal Mengajar"}),(0,h.jsx)(l.s,{field:"nama_guru",header:"Nama Guru"}),(0,h.jsx)(l.s,{field:"nama_bidang",header:"Mata Pelajaran"}),(0,h.jsx)(l.s,{field:"nama_kelas",header:"Kelas"}),(0,h.jsx)(l.s,{field:"jurusan",header:"Jurusan"}),(0,h.jsx)(l.s,{field:"nama_jam",header:"Jam Mengajar Ke"}),(0,h.jsx)(l.s,{field:"kehadiran",header:"Kehadiran"}),(0,h.jsx)(l.s,{field:"keterangan",header:"Keterangan"})]})}),(0,h.jsx)(Z,{})]})]})]})})})})]})};x.defaultProps={primaryKey:"",pageName:"laporan",apiPath:"laporan/index",routeName:"laporanlist",msgBeforeDelete:"Yakin Menghapus Data Ini?",msgTitle:"Delete Record",msgAfterDelete:"Data Berhasil Di Hapus !",showHeader:!0,showFooter:!0,paginate:!0,isSubPage:!1,showBreadcrumbs:!0,exportData:!0,importData:!1,keepRecords:!1,multiCheckbox:!1,search:"",fieldName:null,fieldValue:null,sortField:"",sortDir:"",pageNo:1,limit:20},a.default=x},1085:function(e,a,n){n.d(a,{v:function(){return m}});var t=n(2791),r=n(7890),l=n(3561),s=n(2062),o=n(377),i=n(9022),c=n(5854);function u(){return u=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},u.apply(this,arguments)}function d(e,a){(null==a||a>e.length)&&(a=e.length);for(var n=0,t=new Array(a);n<a;n++)t[n]=e[n];return t}function p(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,r,l=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(t=n.next()).done)&&(l.push(t.value),!a||l.length!==a);s=!0);}catch(i){o=!0,r=i}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return l}}(e,a)||function(e,a){if(e){if("string"===typeof e)return d(e,a);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=t.memo(t.forwardRef((function(e,a){var n=p(t.useState(!e.popup),2),d=n[0],f=n[1],g=t.useRef(null),h=t.useRef(null),x=p((0,s.gq)({target:h,overlay:g,listener:function(e,a){a.valid&&C(e)},when:d}),2),b=x[0],v=x[1],j=function(a){e.popup&&o.F.emit("overlay-click",{originalEvent:a,target:h.current})},y=function(a,n){n.disabled?a.preventDefault():(n.url||a.preventDefault(),n.command&&n.command({originalEvent:a,item:n}),e.popup&&C(a))},N=function(e,a){var n=e.currentTarget.parentElement;switch(e.which){case 40:var t=w(n);t&&t.children[0].focus(),e.preventDefault();break;case 38:var r=P(n);r&&r.children[0].focus(),e.preventDefault()}},w=function e(a){var n=a.nextElementSibling;return n?c.p7.hasClass(n,"p-disabled")||!c.p7.hasClass(n,"p-menuitem")?e(n):n:null},P=function e(a){var n=a.previousElementSibling;return n?c.p7.hasClass(n,"p-disabled")||!c.p7.hasClass(n,"p-menuitem")?e(n):n:null},k=function(a){e.popup&&(d?C(a):E(a))},E=function(a){h.current=a.currentTarget,f(!0),e.onShow&&e.onShow(a)},C=function(a){h.current=a.currentTarget,f(!1),e.onHide&&e.onHide(a)},T=function(){c.P9.set("menu",g.current,r.ZP.autoZIndex,e.baseZIndex||r.ZP.zIndex.menu),c.p7.absolutePosition(g.current,h.current)},D=function(){b()},A=function(){h.current=null,v()},R=function(){c.P9.clear(g.current)};(0,s.zq)((function(){c.P9.clear(g.current)})),t.useImperativeHandle(a,(function(){return{toggle:k,show:E,hide:C}}));var S=function(a,n){var r=(0,c.AK)("p-menuitem",a.className),l=(0,c.AK)("p-menuitem-link",{"p-disabled":a.disabled}),s=(0,c.AK)("p-menuitem-icon",a.icon),o=c.Cz.getJSXIcon(a.icon,{className:"p-menuitem-icon"},{props:e}),i=a.label&&t.createElement("span",{className:"p-menuitem-text"},a.label),u=a.disabled?null:0,d=a.label+"_"+n,p=t.createElement("a",{href:a.url||"#",className:l,role:"menuitem",target:a.target,onClick:function(e){return y(e,a)},onKeyDown:function(e){return N(e)},tabIndex:u,"aria-disabled":a.disabled},o,i);if(a.template){var m={onClick:function(e){return y(e,a)},onKeyDown:function(e){return N(e)},className:l,tabIndex:u,labelClassName:"p-menuitem-text",iconClassName:s,element:p,props:e};p=c.gb.getJSXElement(a.template,a,m)}return t.createElement("li",{key:d,className:r,style:a.style,role:"none"},p)},I=function(e,a){return e.separator?function(e){var a="separator_"+e;return t.createElement("li",{key:a,className:"p-menu-separator",role:"separator"})}(a):e.items?function(e,a){var n=e.label+"_"+a,r=(0,c.AK)("p-submenu-header",{"p-disabled":e.disabled},e.className),l=e.items.map(S);return t.createElement(t.Fragment,{key:n},t.createElement("li",{className:r,style:e.style,role:"presentation"},e.label),l)}(e,a):S(e,a)},F=function(){if(e.model){var a=c.gb.findDiffKeys(e,m.defaultProps),n=(0,c.AK)("p-menu p-component",{"p-menu-overlay":e.popup},e.className),r=e.model.map(I);return t.createElement(l.K,{nodeRef:g,classNames:"p-connected-overlay",in:d,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:T,onEntered:D,onExit:A,onExited:R},t.createElement("div",u({ref:g,id:e.id,className:n,style:e.style},a,{onClick:j}),t.createElement("ul",{className:"p-menu-list p-reset",role:"menu"},r)))}return null}();return e.popup?t.createElement(i.h,{element:F,appendTo:e.appendTo}):F})));m.displayName="Menu",m.defaultProps={__TYPE:"Menu",id:null,model:null,popup:!1,style:null,className:null,autoZIndex:!0,baseZIndex:0,appendTo:null,transitionOptions:null,onShow:null,onHide:null}}}]);
//# sourceMappingURL=1975.5d6b0369.chunk.js.map