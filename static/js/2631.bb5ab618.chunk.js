"use strict";(self.webpackChunkpiket=self.webpackChunkpiket||[]).push([[2631,1323,7691],{1091:function(e,a,r){r.d(a,{M:function(){return l}});var s=r(8284),n=r(1323),i=r(7691),t=r(184),l=function(e){var a=e.error.response,r=a.status,l=void 0===r?500:r,o=a.data,c=void 0===o?"Unable to process request.":o;return 404===l?(0,t.jsx)(s.default,{message:c}):403===l?(0,t.jsx)(n.default,{message:c}):(0,t.jsx)(i.default,{message:c})}},8355:function(e,a,r){var s=r(4165),n=r(5861),i=r(1413),t=r(885),l=r(2791),o=r(6871),c=r(4018),d=r(1933),u=r(4072),m=r(4621);a.Z=function(e){var a=e.props,r=e.formDefaultValues,v=e.afterSubmit,p=(0,c.Z)(),f=(0,u.Z)(),h=(0,o.UO)().pageid,x=(0,l.useState)(null),g=(0,t.Z)(x,2),j=g[0],N=g[1],b=(0,l.useState)(r),y=(0,t.Z)(b,2),_=y[0],S=y[1],k=(0,l.useState)(!1),Z=(0,t.Z)(k,2),C=Z[0],w=Z[1],P=a.id||h;P=P||"";var U="".concat(a.apiPath,"/").concat(P),E=(0,d.useQuery)([a.pageName,U],(function(){return f.get(U).then((function(e){return null===e||void 0===e?void 0:e.data}))}),{retry:!1}),R=E.isLoading,D=E.isError,A=E.data,F=E.error;(0,l.useEffect)((function(){if(A){var e=function(e){var a=(0,i.Z)({},e);return Object.keys(a).forEach((function(e){var s=a[e],n=r[e];Array.isArray(n)?a[e]=s?s.toString().split(","):n:n instanceof Date&&s&&(a[e]=new Date(s))})),a}(A);S(e),N(A),w(!0)}}),[A,D]);var V=(0,d.useQueryClient)(),q=(0,d.useMutation)((function(e){var a=function(e){var a=(0,i.Z)({},e);return Object.keys(a).forEach((function(e){var r=a[e];if(Array.isArray(r)){var s=r[0];a[e]=s&&"string"==typeof s?r.toString():r}else r instanceof Date?a[e]=r.toISOString().slice(0,19).replace("T"," "):""===r&&(a[e]=null)})),a}(e);return f.post(U,a).then((function(e){return null===e||void 0===e?void 0:e.data}))}),{retry:!1,onSuccess:function(e){V.invalidateQueries(a.pageName),v&&v(e)},onError:function(e){p.showPageRequestError(e)}});var T={currentRecord:j,formData:_,inputClassName:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w-full";return e?"".concat(a," p-invalid"):a},setFormData:S,handleSubmit:function(e,r){r.isValid||p.flashMsg(a.formValidationError,a.formValidationMsg,"error")},submitForm:function(e){var r=a.msgBeforeSave;r?(0,m.V)({header:a.msgTitle,message:r,icon:"pi pi-save",accept:function(){var a=(0,n.Z)((0,s.Z)().mark((function a(){return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:q.mutate(e);case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),reject:function(){}}):q.mutate(e)},setCurrentRecord:N,pageReady:C,saving:q.isLoading,loading:R,apiRequestError:F};return(0,l.useMemo)((function(){return T}),[_,j,C,q.isLoading,R,F])}},2631:function(e,a,r){r.r(a);var s=r(5705),n=r(6871),i=r(9562),t=r(919),l=r(8550),o=r(3014),c=r(9025),d=r(1091),u=r(2557),m=r(4018),v=r(8355),p=r(184),f=function(e){var a=(0,m.Z)(),r=((0,n.TH)(),i.Ry().shape({username:i.Z_().required().label("Username"),foto_user:i.Z_().required().label("Foto User"),telp:i.Z_().nullable().label("Telp"),user_role_id:i.Rx().nullable().label("User Role Id")})),f=(0,v.Z)({props:e,formDefaultValues:{username:"",foto_user:"",telp:"NULL",user_role_id:""},afterSubmit:function(r){a.flashMsg(e.msgTitle,e.msgAfterSave),window.location.reload()}}),h=f.formData,x=f.handleSubmit,g=f.submitForm,j=f.pageReady,N=f.loading,b=f.saving,y=f.apiRequestError,_=f.inputClassName;return N?(0,p.jsx)("div",{className:"p-3 text-center",children:(0,p.jsx)(u.G,{style:{width:"50px",height:"50px"}})}):y?(0,p.jsx)(d.M,{error:y}):j?(0,p.jsx)("main",{id:"UserAccounteditPage",className:"main-page",children:(0,p.jsx)("section",{className:"page-section ",children:(0,p.jsx)("div",{className:"container",children:(0,p.jsx)("div",{className:"grid ",children:(0,p.jsx)("div",{className:"md:col-9 sm:col-12 comp-grid",children:(0,p.jsx)("div",{children:(0,p.jsx)(s.J9,{initialValues:h,validationSchema:r,onSubmit:function(e,a){g(e)},children:function(a){var r,n,i;return(0,p.jsxs)(s.l0,{className:"".concat(e.isSubPage?"":"card "),children:[(0,p.jsxs)("div",{className:"grid",children:[(0,p.jsx)("div",{className:"col-12",children:(0,p.jsxs)("div",{className:"formgrid grid",children:[(0,p.jsx)("div",{className:"col-12 md:col-3",children:"Username *"}),(0,p.jsxs)("div",{className:"col-12 md:col-9",children:[(0,p.jsx)(c.o,{name:"username",onChange:a.handleChange,value:a.values.username,label:"Username",type:"text",placeholder:"Enter Username",className:_(null===a||void 0===a||null===(r=a.errors)||void 0===r?void 0:r.username)}),(0,p.jsx)(s.Bc,{name:"username",component:"span",className:"p-error"})]})]})}),(0,p.jsx)("div",{className:"col-12",children:(0,p.jsxs)("div",{className:"formgrid grid",children:[(0,p.jsx)("div",{className:"col-12 md:col-3",children:"Foto User *"}),(0,p.jsxs)("div",{className:"col-12 md:col-9",children:[(0,p.jsx)(c.o,{name:"foto_user",onChange:a.handleChange,value:a.values.foto_user,label:"Foto User",type:"text",placeholder:"Enter Foto User",className:_(null===a||void 0===a||null===(n=a.errors)||void 0===n?void 0:n.foto_user)}),(0,p.jsx)(s.Bc,{name:"foto_user",component:"span",className:"p-error"})]})]})}),(0,p.jsx)("div",{className:"col-12",children:(0,p.jsxs)("div",{className:"formgrid grid",children:[(0,p.jsx)("div",{className:"col-12 md:col-3",children:"Telp"}),(0,p.jsxs)("div",{className:"col-12 md:col-9",children:[(0,p.jsx)(c.o,{name:"telp",onChange:a.handleChange,value:a.values.telp,label:"Telp",type:"text",placeholder:"Enter Telp",className:_(null===a||void 0===a||null===(i=a.errors)||void 0===i?void 0:i.telp)}),(0,p.jsx)(s.Bc,{name:"telp",component:"span",className:"p-error"})]})]})}),(0,p.jsx)("div",{className:"col-12",children:(0,p.jsxs)("div",{className:"formgrid grid",children:[(0,p.jsx)("div",{className:"col-12 md:col-3",children:"User Role Id"}),(0,p.jsx)("div",{className:"col-12 md:col-9",children:(0,p.jsx)(l.o,{apiPath:"components_data/role_id_option_list",children:function(e){var r,n=e.response;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.L,{name:"user_role_id",optionLabel:"label",optionValue:"value",value:a.values.user_role_id,onChange:a.handleChange,options:n,label:"User Role Id",placeholder:"Select a value ...",className:_(null===a||void 0===a||null===(r=a.errors)||void 0===r?void 0:r.user_role_id)}),(0,p.jsx)(s.Bc,{name:"user_role_id",component:"span",className:"p-error"})]})}})})]})})]}),e.showFooter&&(0,p.jsx)("div",{className:"text-center my-3",children:(0,p.jsx)(t.z,{onClick:function(e){return x(e,a)},type:"submit",label:"Perbaharui",icon:"pi pi-send",loading:b})})]})}})})})})})})}):void 0};f.defaultProps={primaryKey:"id_user",pageName:"user",apiPath:"account/edit",routeName:"useraccountedit",submitButtonLabel:"Perbaharui",formValidationError:"Form is invalid",formValidationMsg:"Please complete the form",msgTitle:"Update Record",msgAfterSave:"Data Berhasil Di Perbaharui !",msgBeforeSave:"",showHeader:!0,showFooter:!0,redirect:!0,isSubPage:!1},a.default=f},1323:function(e,a,r){r.r(a);r(2791);var s=r(919),n=r(7162),i=r(4018),t=r(184),l=function(e){var a=(0,i.Z)();return(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"grid flex-column align-items-center card",children:[(0,t.jsx)("div",{className:"text-pink-500 font-bold text-5xl",children:"403"}),(0,t.jsx)(n.q,{size:"xlarge",icon:"pi pi-lock",className:"text-pink-500 bg-pink-100  my-4"}),(0,t.jsx)("div",{className:"text-900 font-medium text-3xl mb-2",children:e.message}),(0,t.jsx)("div",{className:"text-gray-600",children:"You do not have the necesary permisions. Please contact admins."}),(0,t.jsx)("div",{className:"mt-5 text-center",children:(0,t.jsx)(s.z,{onClick:function(){return a.navigate("/home")},icon:"pi pi-arrow-left",label:"Home"})})]})})};l.defaultProps={message:"Access Denied"},a.default=l},7691:function(e,a,r){r.r(a);r(2791);var s=r(919),n=r(7162),i=r(4018),t=r(184),l=function(e){var a=(0,i.Z)();return(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"grid flex-column align-items-center card",children:[(0,t.jsx)("div",{className:"text-pink-500 font-bold text-5xl",children:"500"}),(0,t.jsx)(n.q,{size:"xlarge",icon:"pi pi-lock",className:"text-pink-500 bg-pink-100  my-4"}),(0,t.jsx)("div",{className:"text-900 font-medium text-3xl mb-2",children:e.message}),(0,t.jsx)("div",{className:"text-gray-600",children:"An error occurred while processing your request. Please contact the Administrator for more information"}),(0,t.jsx)("div",{className:"mt-5 text-center",children:(0,t.jsx)(s.z,{onClick:function(){return a.navigate("/home")},icon:"pi pi-arrow-left",label:"Home"})})]})})};l.defaultProps={message:"Access Denied"},a.default=l}}]);
//# sourceMappingURL=2631.bb5ab618.chunk.js.map