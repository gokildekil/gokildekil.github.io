{"version":3,"file":"static/js/9825.4de5a74b.chunk.js","mappings":"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","sources":["components/ImportPageData.js","components/Uploader.js","pages/tbl_bidang_study/List.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport useApp from 'hooks/useApp';\r\n\r\nimport { Button } from 'primereact/button';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Uploader } from 'components/Uploader';\r\n\r\nconst ImportPageData = (props) => {\r\n\tconst app = useApp();\r\n\tconst { uploadPath, buttonLabel, buttonIcon, buttonTitle, dragDropMsg } = props;\r\n\tconst [showDialog, setShowDialog] = useState(false);\r\n\r\n\tfunction uploadCompleted(response) {\r\n\t\tprops.onImportCompleted(response);\r\n\t}\r\n\r\n\tfunction uploadError(error) {\r\n\t\tapp.flashMsg('Upload error', error, 'error')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button onClick={() => setShowDialog(!showDialog)} label={buttonLabel} tooltip={buttonTitle} icon={buttonIcon} />\r\n\t\t\t<Dialog draggable={false} modal={false} header=\"Import Data\" visible={showDialog} onHide={() => setShowDialog(false)} position=\"bottom\" breakpoints={{ '960px': '50vw', '640px': '95vw' }} style={{ width: '30vw' }}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Uploader showUploadedFiles={false} uploadPath={uploadPath} onUploadError={(err) => uploadError(err)} onUploadCompleted={(response) => uploadCompleted(response)} fileLimit={1} maxFileSize={10} accept=\".csv\" multiple={false} label={dragDropMsg} />\r\n\t\t\t\t</div>\r\n\t\t\t</Dialog>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nImportPageData.defaultProps = {\r\n\tuploadPath: 'fileuploader/upload/import',\r\n\tbuttonLabel: 'Import Data',\r\n\tbuttonTitle: 'Import Data',\r\n\tbuttonIcon: 'pi pi-print',\r\n\tdragDropMsg: 'Choose file to import',\r\n\tonImportCompleted: () => { }\r\n}\r\n\r\nexport { ImportPageData };","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { FileUpload } from 'primereact/fileupload';\r\nimport { Avatar } from 'primereact/avatar';\r\nimport { Button } from 'primereact/button';\r\nimport useUtils from 'hooks/useUtils';\r\nimport useLocalStore from 'hooks/useLocalStore';\r\nimport useApi from 'hooks/useApi';\r\nimport { ImageViewer } from \"./ImageViewer\";\r\n\r\n\r\n\r\nconst Uploader = (props) => {\r\n\r\n\tconst utils = useUtils();\r\n\tconst api = useApi();\r\n\tconst localStore = useLocalStore();\r\n\r\n\tconst fileUploadRef = useRef(null);\r\n\r\n\tconst [uploadedFilePaths, setUploadedFilePaths] = useState([]);\r\n\tconst [uploadedFiles, setUploadedFiles] = useState([]);\r\n\tconst [disabled, setDisabled] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (props.value) {\r\n\t\t\tlet prevUploadPaths = props.value.toString().split(',');\r\n\t\t\tsetUploadedFilePaths(prevUploadPaths);\r\n\t\t}\r\n\t}, [props.value]);\r\n\r\n\tconst maxFileSize = props.maxFileSize || 10;// in mb\r\n\tconst fileLimit = props.fileLimit || 10;\r\n\tconst multiple = props.multiple;\r\n\tconst accept = props.accept;\r\n\r\n\tconst maxFileSizeInBytes = maxFileSize * 1024 * 1024;\r\n\r\n\tfunction buildUploadedFiles() {\r\n\t\tlet files = [];\r\n\t\tuploadedFilePaths.forEach(path => {\r\n\t\t\tlet fileName = path.split('\\\\').pop().split('/').pop();\r\n\t\t\tlet ext = fileName.split('.').pop().toLowerCase();\r\n\t\t\tlet imgExt = ['jpg', 'png', 'gif', 'jpeg', 'bmp'];\r\n\t\t\tlet isImage = false;\r\n\t\t\tif (imgExt.indexOf(ext) > -1) {\r\n\t\t\t\tisImage = true;\r\n\t\t\t}\r\n\t\t\tlet size = \"small\"; //use resize image for the display\r\n\t\t\tif (path.indexOf(\"temp/\") > -1) {\r\n\t\t\t\tsize = \"\";  //if image is still in temp folder use the original image\r\n\t\t\t}\r\n\t\t\tlet fileShortName = utils.strEllipsis(fileName, 15);\r\n\t\t\tfiles.push({\r\n\t\t\t\tname: fileName,\r\n\t\t\t\tshortName: fileShortName,\r\n\t\t\t\tisImage: isImage,\r\n\t\t\t\tsize: size,\r\n\t\t\t\tpath: path\r\n\t\t\t})\r\n\t\t});\r\n\t\tsetUploadedFiles(files);\r\n\t}\r\n\r\n\tfunction getUploadApiUrl() {\r\n\t\treturn utils.setApiPath(props.uploadPath);\r\n\t}\r\n\tfunction setheaders(event) {\r\n\t\tconst token = localStore.getToken();\r\n\t\tevent.xhr.setRequestHeader(\"Authorization\", `Bearer ${token}`);\r\n\t}\r\n\tfunction uploadComplete(event) {\r\n\t\tconst response = event.xhr.response;\r\n\t\tuploadedFilePaths.push(response);\r\n\t\tsetUploadedFilePaths(uploadedFilePaths);\r\n\t\tupdateModelValue();\r\n\t\tprops.onUploadCompleted(response);\r\n\t}\r\n\r\n\tfunction updateModelValue() {\r\n\t\tprops.onChange(uploadedFilePaths.toString());\r\n\t}\r\n\r\n\tasync function removeFile(file) {\r\n\t\ttry {\r\n\t\t\tlet index = uploadedFilePaths.indexOf(file.path);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tuploadedFilePaths.splice(index, 1);\r\n\t\t\t\tsetUploadedFilePaths(uploadedFilePaths);\r\n\t\t\t\tbuildUploadedFiles();\r\n\t\t\t\tupdateModelValue();\r\n\t\t\t\tlet url = \"fileuploader/remove_temp_file\";\r\n\t\t\t\tlet formData = {\r\n\t\t\t\t\ttemp_file: file.path\r\n\t\t\t\t}\r\n\t\t\t\tawait api.post(url, formData)\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tconsole.error(err);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction uploadError(req) {\r\n\t\tconst errMsg = req?.xhr?.response || \"Unable to upload file\";\r\n\t\tprops.onUploadError(errMsg);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tbuildUploadedFiles();\r\n\t\tif (uploadedFilePaths.length >= fileLimit) {\r\n\t\t\tsetDisabled(true)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetDisabled(false)\r\n\t\t}\r\n\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [uploadedFilePaths, uploadedFilePaths.length, fileLimit]);\r\n\r\n\tfunction UploadedItemsTemplate() {\r\n\t\tif (props.showUploadedFiles) {\r\n\t\t\tif (uploadedFiles.length) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"flex gap-2 flex-wrap py-2\">\r\n\t\t\t\t\t\t{uploadedFiles.map(file =>\r\n\t\t\t\t\t\t\t<div key={file.path}>\r\n\t\t\t\t\t\t\t\t{file.isImage && <div className=\"card flex justify-content-between gap-2 align-items-center p-1\">\r\n\t\t\t\t\t\t\t\t\t<ImageViewer width=\"40px\" height=\"40px\" imageSize=\"small\" src={file.path} />\r\n\t\t\t\t\t\t\t\t\t<Button type=\"button\" className=\"p-button-danger p-button-sm p-button-text\" onClick={() => removeFile(file)} icon=\"pi pi-times\" />\r\n\t\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t\t\t{!file.isImage && <div className=\"flex card p-1 gap-2 justify-content-between align-items-center p-1\">\r\n\t\t\t\t\t\t\t\t\t<a target=\"_blank\" rel=\"noreferrer\" href={utils.getFileFullPath(file.path)}>\r\n\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" icon=\"pi pi-file\" />\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-500\">{file.shortName}</span>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"button\" className=\"p-button-danger p-button-sm p-button-text\" onClick={() => removeFile(file)} icon=\"pi pi-times\" />\r\n\t\t\t\t\t\t\t\t</div >}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div >\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst emptyTemplate = () => {\r\n        return (\r\n            <div className=\"flex justify-content-center align-items-center gap-3 text-500\">\r\n                <i className=\"pi pi-upload text-5xl\"></i>\r\n                <span className=\"font-bold\">{ props.label }</span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\treturn (\r\n\t\t<div className=\"p-2 surface-200\">\r\n\t\t\t<FileUpload\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tname=\"file\"\r\n\t\t\t\tref={fileUploadRef}\r\n\t\t\t\tauto={true}\r\n\t\t\t\tmaxFileSize={maxFileSizeInBytes}\r\n\t\t\t\taccept={accept}\r\n\t\t\t\tmultiple={multiple}\r\n\t\t\t\tmode=\"advanced\"\r\n\t\t\t\turl={getUploadApiUrl()}\r\n\t\t\t\tonBeforeSend={setheaders}\r\n\t\t\t\tonUpload={uploadComplete}\r\n\t\t\t\tonError={uploadError}\r\n\t\t\t\temptyTemplate={emptyTemplate}\r\n\t\t\t\t>\r\n\t\t\t</FileUpload>\r\n\t\t\t<UploadedItemsTemplate />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nUploader.defaultProps = {\r\n\tonChange: () => { },\r\n\tonUploadCompleted: () => { },\r\n\tonUploadError: () => { },\r\n}\r\n\r\nexport { Uploader }","import { BreadCrumb } from 'primereact/breadcrumb';\r\nimport { Button } from 'primereact/button';\r\nimport { Column } from 'primereact/column';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { FilterTags } from 'components/FilterTags';\r\nimport { ImportPageData } from 'components/ImportPageData';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { Link } from 'react-router-dom';\r\nimport { PageRequestError } from 'components/PageRequestError';\r\nimport { Paginator } from 'primereact/paginator';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport { SplitButton } from 'primereact/splitbutton';\r\nimport { Title } from 'components/Title';\r\nimport useApp from 'hooks/useApp';\r\n\r\nimport useListPage from 'hooks/useListPage';\r\nimport useFilters from 'hooks/useFilters';\r\nconst TblBidangStudyListPage = (props) => {\r\n\t\tconst app = useApp();\r\n\tconst filterSchema = {\r\n\t\tsearch: {\r\n\t\t\ttagTitle: \"Search\",\r\n\t\t\tvalue: '',\r\n\t\t\tvalueType: 'single',\r\n\t\t\toptions: [],\r\n\t\t}\r\n\t}\r\n\tconst pageFilterController = useFilters(filterSchema);\r\n\tconst pageController = useListPage(props, pageFilterController);\r\n\tconst { records, pageReady, loading, selectedItems, sortBy, sortOrder, apiRequestError, setSelectedItems, getPageBreadCrumbs, onSort, deleteItem, pagination } = pageController;\r\n\tconst { filters, setFilterValue } = pageFilterController;\r\n\tconst { totalRecords, totalPages, recordsPosition, firstRow, limit, onPageChange } =  pagination;\r\n\tfunction ActionButton(data){\r\n\t\tconst items = [\r\n\t\t{\r\n\t\t\tlabel: \"View\",\r\n\t\t\tcommand: (event) => { app.navigate(`/tbl_bidang_study/view/${data.id_bidang}`) },\r\n\t\t\ticon: \"pi pi-eye\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Edit\",\r\n\t\t\tcommand: (event) => { app.navigate(`/tbl_bidang_study/edit/${data.id_bidang}`) },\r\n\t\t\ticon: \"pi pi-pencil\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"Delete\",\r\n\t\t\tcommand: (event) => { deleteItem(data.id_bidang) },\r\n\t\t\ticon: \"pi pi-trash\"\r\n\t\t}\r\n\t]\r\n\t\treturn (<SplitButton dropdownIcon=\"pi pi-bars\" className=\"dropdown-only p-button-text p-button-plain\" model={items} />);\r\n\t}\r\n\tfunction PageLoading(){\r\n\t\tif(loading){\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"flex align-items-center justify-content-center text-gray-500 p-3\">\r\n\t\t\t\t\t\t<div><ProgressSpinner style={{width:'30px', height:'30px'}} /> </div>\r\n\t\t\t\t\t\t<div  className=\"font-bold text-lg\">Loading...</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\tfunction EmptyRecordMessage(){\r\n\t\tif(pageReady && !records.length){\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"text-lg mt-3 p-3 text-center text-400 font-bold\">\r\n\t\t\t\t\tTidak Ada Di Temukan !\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\tfunction MultiDelete() {\r\n\t\tif (selectedItems.length) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"m-2 flex-grow-0\">\r\n\t\t\t\t\t<Button onClick={() => deleteItem(selectedItems)} icon=\"pi pi-trash\" className=\"p-button-danger\" title=\"Delete Selected\"/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\tfunction ImportData() {\r\n\t\tif (props.importData) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"m-2\">\r\n\t\t\t\t\t<ImportPageData label=\"Select a file to import\" uploadPath=\"tbl_bidang_study/importdata\" buttonIcon=\"pi pi-folder\" buttonLabel=\"Import Data\" onImportCompleted={(response) => {app.flashMsg('Import Data', response, 'success')}} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\tfunction PagerControl() {\r\n\t\tif (props.paginate && totalPages > 1) {\r\n\t\tconst pagerReportTemplate = {\r\n\t\t\tlayout: pagination.layout,\r\n\t\t\tCurrentPageReport: (options) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<span className=\"text-sm text-gray-500 px-2\">Records <b>{ recordsPosition } of { options.totalRecords }</b></span>\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"flex-grow-1\">\r\n\t\t\t\t<Paginator first={firstRow} rows={limit} totalRecords={totalRecords}  onPageChange={onPageChange} template={pagerReportTemplate} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t}\r\n\t}\r\n\tfunction PageFooter() {\r\n\t\tif (pageReady && props.showFooter) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"flex flex-wrap justify-content-between\">\r\n\t\t\t\t\t<MultiDelete />\r\n\t\t\t\t\t<ImportData />\r\n\t\t\t\t\t<PagerControl />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\tfunction PageBreadcrumbs(){\r\n\t\tif(props.showBreadcrumbs) {\r\n\t\t\tconst items = getPageBreadCrumbs();\r\n\t\t\treturn (items.length > 0 && <BreadCrumb className=\"mb-3\" model={items} />);\r\n\t\t}\r\n\t}\r\n\tif(apiRequestError){\r\n\t\treturn (\r\n\t\t\t<PageRequestError error={apiRequestError} />\r\n\t\t);\r\n\t}\r\n\treturn (\r\n<main id=\"TblBidangStudyListPage\" className=\"main-page\">\r\n    { (props.showHeader) && \r\n    <section className=\"page-section mb-3\" >\r\n        <div className=\"container-fluid\">\r\n            <div className=\"grid justify-content-between align-items-center\">\r\n                <div className=\"col \" >\r\n                    <Title title=\"Data Mata Pelajaran\"   titleClass=\"text-2xl text-primary font-bold\" subTitleClass=\"text-sm text-500\"      separator={false} />\r\n                </div>\r\n                <div className=\"col-12 md:col-3 \" >\r\n                    <Link to={`/tbl_bidang_study/add`}>\r\n                        <Button label=\"Tambah Mapel\" icon=\"pi pi-plus\" type=\"button\" className=\"p-button bg-primary \"  />\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"col-12 md:col-5 lg:col-4 \" >\r\n                        <span className=\"p-input-icon-left w-full\">\r\n                        <i className=\"pi pi-search\" />\r\n                        <InputText placeholder=\"Cari Mapel\" className=\"w-full\" value={filters.search.value}  onChange={(e) => setFilterValue('search', e.target.value)} />\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        }\r\n        <section className=\"page-section \" >\r\n            <div className=\"container-fluid\">\r\n                <div className=\"grid \">\r\n                    <div className=\"col comp-grid\" >\r\n                        <FilterTags filterController={pageFilterController} />\r\n                        <div >\r\n                            <PageBreadcrumbs />\r\n                            <div className={`${!props.isSubPage ? 'card ' : ''}`}>\r\n                                <div className=\"page-records\">\r\n                                    <DataTable \r\n                                        lazy={true} \r\n                                        loading={loading} \r\n                                        selectionMode=\"checkbox\" selection={selectedItems} onSelectionChange={e => setSelectedItems(e.value)}\r\n                                        value={records} \r\n                                        dataKey=\"id_bidang\" \r\n                                        sortField={sortBy} \r\n                                        sortOrder={sortOrder} \r\n                                        onSort={onSort}\r\n                                        className=\" p-datatable-sm\" \r\n                                        stripedRows={true}\r\n                                        showGridlines={false} \r\n                                        rowHover={true} \r\n                                        responsiveLayout=\"stack\" \r\n                                        emptyMessage={<EmptyRecordMessage />} \r\n                                        >\r\n                                        {/*PageComponentStart*/}\r\n                                        <Column selectionMode=\"multiple\" headerStyle={{width: '2rem'}}></Column>\r\n                                        <Column  field=\"nama_bidang\" header=\"Mapel\"   ></Column>\r\n                                        <Column headerStyle={{width: '2rem'}} headerClass=\"text-center\" body={ActionButton}></Column>\r\n                                        {/*PageComponentEnd*/}\r\n                                    </DataTable>\r\n                                </div>\r\n                                <PageFooter />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </main>\r\n\t);\r\n}\r\nTblBidangStudyListPage.defaultProps = {\r\n\tprimaryKey: 'id_bidang',\r\n\tpageName: 'tbl_bidang_study',\r\n\tapiPath: 'tbl_bidang_study/index',\r\n\trouteName: 'tbl_bidang_studylist',\r\n\tmsgBeforeDelete: \"Yakin Menghapus Data Ini?\",\r\n\tmsgTitle: 'Delete Record',\r\n\tmsgAfterDelete: \"Data Berhasil Di Hapus !\",\r\n\tshowHeader: true,\r\n\tshowFooter: true,\r\n\tpaginate: true,\r\n\tisSubPage: false,\r\n\tshowBreadcrumbs: true,\r\n\texportData: false,\r\n\timportData: true,\r\n\tkeepRecords: false,\r\n\tmultiCheckbox: true,\r\n\tsearch: '',\r\n\tfieldName: null,\r\n\tfieldValue: null,\r\n\tsortField: '',\r\n\tsortDir: '',\r\n\tpageNo: 1,\r\n\tlimit: 20,\r\n}\r\nexport default TblBidangStudyListPage;\r\n"],"names":["ImportPageData","props","app","useApp","uploadPath","buttonLabel","buttonIcon","buttonTitle","dragDropMsg","useState","showDialog","setShowDialog","onClick","label","tooltip","icon","draggable","modal","header","visible","onHide","position","breakpoints","style","width","showUploadedFiles","onUploadError","err","error","flashMsg","onUploadCompleted","response","onImportCompleted","uploadCompleted","fileLimit","maxFileSize","accept","multiple","defaultProps","Uploader","utils","useUtils","api","useApi","localStore","useLocalStore","fileUploadRef","useRef","uploadedFilePaths","setUploadedFilePaths","uploadedFiles","setUploadedFiles","disabled","setDisabled","useEffect","value","prevUploadPaths","toString","split","maxFileSizeInBytes","buildUploadedFiles","files","forEach","path","fileName","pop","ext","toLowerCase","isImage","indexOf","size","fileShortName","strEllipsis","push","name","shortName","updateModelValue","onChange","removeFile","file","index","splice","formData","temp_file","post","console","UploadedItemsTemplate","length","className","map","height","imageSize","src","type","target","rel","href","getFileFullPath","ref","auto","mode","url","setApiPath","onBeforeSend","event","token","getToken","xhr","setRequestHeader","onUpload","onError","req","errMsg","emptyTemplate","TblBidangStudyListPage","pageFilterController","useFilters","search","tagTitle","valueType","options","pageController","useListPage","records","pageReady","loading","selectedItems","sortBy","sortOrder","apiRequestError","setSelectedItems","getPageBreadCrumbs","onSort","deleteItem","pagination","filters","setFilterValue","totalRecords","totalPages","recordsPosition","firstRow","limit","onPageChange","EmptyRecordMessage","MultiDelete","title","ImportData","importData","PagerControl","paginate","pagerReportTemplate","layout","CurrentPageReport","first","rows","template","PageFooter","showFooter","PageBreadcrumbs","showBreadcrumbs","items","model","id","showHeader","titleClass","subTitleClass","separator","to","placeholder","e","filterController","isSubPage","lazy","selectionMode","selection","onSelectionChange","dataKey","sortField","stripedRows","showGridlines","rowHover","responsiveLayout","emptyMessage","headerStyle","field","headerClass","body","data","command","navigate","id_bidang","dropdownIcon","primaryKey","pageName","apiPath","routeName","msgBeforeDelete","msgTitle","msgAfterDelete","exportData","keepRecords","multiCheckbox","fieldName","fieldValue","sortDir","pageNo"],"sourceRoot":""}