"use strict";(self.webpackChunkpiket=self.webpackChunkpiket||[]).push([[9622,1323,7691],{1091:function(e,i,s){s.d(i,{M:function(){return o}});var a=s(8284),r=s(1323),n=s(7691),t=s(184),o=function(e){var i=e.error.response,s=i.status,o=void 0===s?500:s,l=i.data,c=void 0===l?"Unable to process request.":l;return 404===o?(0,t.jsx)(a.default,{message:c}):403===o?(0,t.jsx)(r.default,{message:c}):(0,t.jsx)(n.default,{message:c})}},8355:function(e,i,s){var a=s(4165),r=s(5861),n=s(1413),t=s(885),o=s(2791),l=s(6871),c=s(4018),d=s(1933),m=s(4072),u=s(4621);i.Z=function(e){var i=e.props,s=e.formDefaultValues,p=e.afterSubmit,f=(0,c.Z)(),v=(0,m.Z)(),x=(0,l.UO)().pageid,h=(0,o.useState)(null),g=(0,t.Z)(h,2),j=g[0],N=g[1],b=(0,o.useState)(s),y=(0,t.Z)(b,2),P=y[0],S=y[1],k=(0,o.useState)(!1),w=(0,t.Z)(k,2),C=w[0],Z=w[1],D=i.id||x;D=D||"";var E="".concat(i.apiPath,"/").concat(D),R=(0,d.useQuery)([i.pageName,E],(function(){return v.get(E).then((function(e){return null===e||void 0===e?void 0:e.data}))}),{retry:!1}),_=R.isLoading,A=R.isError,V=R.data,q=R.error;(0,o.useEffect)((function(){if(V){var e=function(e){var i=(0,n.Z)({},e);return Object.keys(i).forEach((function(e){var a=i[e],r=s[e];Array.isArray(r)?i[e]=a?a.toString().split(","):r:r instanceof Date&&a&&(i[e]=new Date(a))})),i}(V);S(e),N(V),Z(!0)}}),[V,A]);var M=(0,d.useQueryClient)(),F=(0,d.useMutation)((function(e){var i=function(e){var i=(0,n.Z)({},e);return Object.keys(i).forEach((function(e){var s=i[e];if(Array.isArray(s)){var a=s[0];i[e]=a&&"string"==typeof a?s.toString():s}else s instanceof Date?i[e]=s.toISOString().slice(0,19).replace("T"," "):""===s&&(i[e]=null)})),i}(e);return v.post(E,i).then((function(e){return null===e||void 0===e?void 0:e.data}))}),{retry:!1,onSuccess:function(e){M.invalidateQueries(i.pageName),p&&p(e)},onError:function(e){f.showPageRequestError(e)}});var z={currentRecord:j,formData:P,inputClassName:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w-full";return e?"".concat(i," p-invalid"):i},setFormData:S,handleSubmit:function(e,s){s.isValid||f.flashMsg(i.formValidationError,i.formValidationMsg,"error")},submitForm:function(e){var s=i.msgBeforeSave;s?(0,u.V)({header:i.msgTitle,message:s,icon:"pi pi-save",accept:function(){var i=(0,r.Z)((0,a.Z)().mark((function i(){return(0,a.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:F.mutate(e);case 1:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}(),reject:function(){}}):F.mutate(e)},setCurrentRecord:N,pageReady:C,saving:F.isLoading,loading:_,apiRequestError:q};return(0,o.useMemo)((function(){return z}),[P,j,C,F.isLoading,_,q])}},1323:function(e,i,s){s.r(i);s(2791);var a=s(919),r=s(7162),n=s(4018),t=s(184),o=function(e){var i=(0,n.Z)();return(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"grid flex-column align-items-center card",children:[(0,t.jsx)("div",{className:"text-pink-500 font-bold text-5xl",children:"403"}),(0,t.jsx)(r.q,{size:"xlarge",icon:"pi pi-lock",className:"text-pink-500 bg-pink-100  my-4"}),(0,t.jsx)("div",{className:"text-900 font-medium text-3xl mb-2",children:e.message}),(0,t.jsx)("div",{className:"text-gray-600",children:"You do not have the necesary permisions. Please contact admins."}),(0,t.jsx)("div",{className:"mt-5 text-center",children:(0,t.jsx)(a.z,{onClick:function(){return i.navigate("/home")},icon:"pi pi-arrow-left",label:"Home"})})]})})};o.defaultProps={message:"Access Denied"},i.default=o},7691:function(e,i,s){s.r(i);s(2791);var a=s(919),r=s(7162),n=s(4018),t=s(184),o=function(e){var i=(0,n.Z)();return(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"grid flex-column align-items-center card",children:[(0,t.jsx)("div",{className:"text-pink-500 font-bold text-5xl",children:"500"}),(0,t.jsx)(r.q,{size:"xlarge",icon:"pi pi-lock",className:"text-pink-500 bg-pink-100  my-4"}),(0,t.jsx)("div",{className:"text-900 font-medium text-3xl mb-2",children:e.message}),(0,t.jsx)("div",{className:"text-gray-600",children:"An error occurred while processing your request. Please contact the Administrator for more information"}),(0,t.jsx)("div",{className:"mt-5 text-center",children:(0,t.jsx)(a.z,{onClick:function(){return i.navigate("/home")},icon:"pi pi-arrow-left",label:"Home"})})]})})};o.defaultProps={message:"Access Denied"},i.default=o},9622:function(e,i,s){s.r(i);var a=s(5705),r=s(9562),n=s(919),t=s(8550),o=s(3014),l=s(9025),c=s(1091),d=s(2557),m=s(3898),u=s(4018),p=s(8355),f=s(184),v=function(e){var i=(0,u.Z)(),s=r.Ry().shape({permission:r.Z_().required().label("Permission"),role_id:r.Rx().nullable().label("Role Id")}),v=(0,p.Z)({props:e,formDefaultValues:{permission:"",role_id:""},afterSubmit:function(s){i.flashMsg(e.msgTitle,e.msgAfterSave),i.isDialogOpen()?i.closeDialogs():e.redirect&&i.navigate("/permissions")}}),x=v.formData,h=v.handleSubmit,g=v.submitForm,j=v.pageReady,N=v.loading,b=v.saving,y=v.apiRequestError,P=v.inputClassName;return N?(0,f.jsx)("div",{className:"p-3 text-center",children:(0,f.jsx)(d.G,{style:{width:"50px",height:"50px"}})}):y?(0,f.jsx)(c.M,{error:y}):j?(0,f.jsxs)("main",{id:"PermissionsEditPage",className:"main-page",children:[e.showHeader&&(0,f.jsx)("section",{className:"page-section mb-3",children:(0,f.jsx)("div",{className:"container",children:(0,f.jsxs)("div",{className:"grid align-items-center",children:[!e.isSubPage&&(0,f.jsx)("div",{className:"col-fixed ",children:(0,f.jsx)(n.z,{onClick:function(){return i.navigate(-1)},label:"",className:"p-button p-button-text ",icon:"pi pi-arrow-left"})}),(0,f.jsx)("div",{className:"col ",children:(0,f.jsx)(m.D,{title:"Edit Permissions",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})})]})})}),(0,f.jsx)("section",{className:"page-section ",children:(0,f.jsx)("div",{className:"container",children:(0,f.jsx)("div",{className:"grid ",children:(0,f.jsx)("div",{className:"md:col-9 sm:col-12 comp-grid",children:(0,f.jsx)("div",{children:(0,f.jsx)(a.J9,{initialValues:x,validationSchema:s,onSubmit:function(e,i){g(e)},children:function(i){var s;return(0,f.jsxs)(a.l0,{className:"".concat(e.isSubPage?"":"card "),children:[(0,f.jsxs)("div",{className:"grid",children:[(0,f.jsx)("div",{className:"col-12",children:(0,f.jsxs)("div",{className:"formgrid grid",children:[(0,f.jsx)("div",{className:"col-12 md:col-3",children:"Permission *"}),(0,f.jsxs)("div",{className:"col-12 md:col-9",children:[(0,f.jsx)(l.o,{name:"permission",onChange:i.handleChange,value:i.values.permission,label:"Permission",type:"text",placeholder:"Enter Permission",className:P(null===i||void 0===i||null===(s=i.errors)||void 0===s?void 0:s.permission)}),(0,f.jsx)(a.Bc,{name:"permission",component:"span",className:"p-error"})]})]})}),(0,f.jsx)("div",{className:"col-12",children:(0,f.jsxs)("div",{className:"formgrid grid",children:[(0,f.jsx)("div",{className:"col-12 md:col-3",children:"Role Id"}),(0,f.jsx)("div",{className:"col-12 md:col-9",children:(0,f.jsx)(t.o,{apiPath:"components_data/role_id_option_list",children:function(e){var s,r=e.response;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.L,{name:"role_id",optionLabel:"label",optionValue:"value",value:i.values.role_id,onChange:i.handleChange,options:r,label:"Role Id",placeholder:"Select a value ...",className:P(null===i||void 0===i||null===(s=i.errors)||void 0===s?void 0:s.role_id)}),(0,f.jsx)(a.Bc,{name:"role_id",component:"span",className:"p-error"})]})}})})]})})]}),e.showFooter&&(0,f.jsx)("div",{className:"text-center my-3",children:(0,f.jsx)(n.z,{onClick:function(e){return h(e,i)},type:"submit",label:"Perbaharui",icon:"pi pi-send",loading:b})})]})}})})})})})})]}):void 0};v.defaultProps={primaryKey:"permission_id",pageName:"permissions",apiPath:"permissions/edit",routeName:"permissionsedit",submitButtonLabel:"Perbaharui",formValidationError:"Form is invalid",formValidationMsg:"Please complete the form",msgTitle:"Update Record",msgAfterSave:"Data Berhasil Di Perbaharui !",msgBeforeSave:"",showHeader:!0,showFooter:!0,redirect:!0,isSubPage:!1},i.default=v}}]);
//# sourceMappingURL=9622.0b5066b3.chunk.js.map