"use strict";(self.webpackChunkpiket=self.webpackChunkpiket||[]).push([[5302],{5852:function(e,t,a){a.d(t,{M:function(){return u}});var n=a(885),i=a(2791),r=a(4018),s=a(919),l=a(4286),o=a(5815),c=a(184),u=function(e){var t=(0,r.Z)(),a=e.uploadPath,u=e.buttonLabel,p=e.buttonIcon,d=e.buttonTitle,m=e.dragDropMsg,f=(0,i.useState)(!1),h=(0,n.Z)(f,2),x=h[0],g=h[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.z,{onClick:function(){return g(!x)},label:u,tooltip:d,icon:p}),(0,c.jsx)(l.V,{draggable:!1,modal:!1,header:"Import Data",visible:x,onHide:function(){return g(!1)},position:"bottom",breakpoints:{"960px":"50vw","640px":"95vw"},style:{width:"30vw"},children:(0,c.jsx)("div",{children:(0,c.jsx)(o.Q,{showUploadedFiles:!1,uploadPath:a,onUploadError:function(e){return a=e,void t.flashMsg("Upload error",a,"error");var a},onUploadCompleted:function(t){return function(t){e.onImportCompleted(t)}(t)},fileLimit:1,maxFileSize:10,accept:".csv",multiple:!1,label:m})})})]})};u.defaultProps={uploadPath:"fileuploader/upload/import",buttonLabel:"Import Data",buttonTitle:"Import Data",buttonIcon:"pi pi-print",dragDropMsg:"Choose file to import",onImportCompleted:function(){}}},5815:function(e,t,a){a.d(t,{Q:function(){return h}});var n=a(4165),i=a(5861),r=a(885),s=a(2791),l=a(1128),o=a(7162),c=a(919),u=a(894),p=a(3306),d=a(4072),m=a(6884),f=a(184),h=function(e){var t=(0,u.Z)(),a=(0,d.Z)(),h=(0,p.Z)(),x=(0,s.useRef)(null),g=(0,s.useState)([]),b=(0,r.Z)(g,2),j=b[0],v=b[1],N=(0,s.useState)([]),w=(0,r.Z)(N,2),y=w[0],C=w[1],k=(0,s.useState)(!1),D=(0,r.Z)(k,2),S=D[0],P=D[1];(0,s.useEffect)((function(){if(e.value){var t=e.value.toString().split(",");v(t)}}),[e.value]);var I=e.maxFileSize||10,_=e.fileLimit||10,F=e.multiple,Z=e.accept,z=1024*I*1024;function R(){var e=[];j.forEach((function(a){var n=a.split("\\").pop().split("/").pop(),i=n.split(".").pop().toLowerCase(),r=!1;["jpg","png","gif","jpeg","bmp"].indexOf(i)>-1&&(r=!0);var s="small";a.indexOf("temp/")>-1&&(s="");var l=t.strEllipsis(n,15);e.push({name:n,shortName:l,isImage:r,size:s,path:a})})),C(e)}function T(){e.onChange(j.toString())}function U(e){return M.apply(this,arguments)}function M(){return(M=(0,i.Z)((0,n.Z)().mark((function e(t){var i,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,-1===(i=j.indexOf(t.path))){e.next=11;break}return j.splice(i,1),v(j),R(),T(),"fileuploader/remove_temp_file",r={temp_file:t.path},e.next=11,a.post("fileuploader/remove_temp_file",r);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function E(){return e.showUploadedFiles&&y.length?(0,f.jsx)("div",{className:"flex gap-2 flex-wrap py-2",children:y.map((function(e){return(0,f.jsxs)("div",{children:[e.isImage&&(0,f.jsxs)("div",{className:"card flex justify-content-between gap-2 align-items-center p-1",children:[(0,f.jsx)(m.O,{width:"40px",height:"40px",imageSize:"small",src:e.path}),(0,f.jsx)(c.z,{type:"button",className:"p-button-danger p-button-sm p-button-text",onClick:function(){return U(e)},icon:"pi pi-times"})]}),!e.isImage&&(0,f.jsxs)("div",{className:"flex card p-1 gap-2 justify-content-between align-items-center p-1",children:[(0,f.jsx)("a",{target:"_blank",rel:"noreferrer",href:t.getFileFullPath(e.path),children:(0,f.jsx)(o.q,{size:"large",icon:"pi pi-file"})}),(0,f.jsx)("span",{className:"text-sm text-500",children:e.shortName}),(0,f.jsx)(c.z,{type:"button",className:"p-button-danger p-button-sm p-button-text",onClick:function(){return U(e)},icon:"pi pi-times"})]})]},e.path)}))}):null}(0,s.useEffect)((function(){R(),j.length>=_?P(!0):P(!1)}),[j,j.length,_]);return(0,f.jsxs)("div",{className:"p-2 surface-200",children:[(0,f.jsx)(l.p,{disabled:S,name:"file",ref:x,auto:!0,maxFileSize:z,accept:Z,multiple:F,mode:"advanced",url:t.setApiPath(e.uploadPath),onBeforeSend:function(e){var t=h.getToken();e.xhr.setRequestHeader("Authorization","Bearer ".concat(t))},onUpload:function(t){var a=t.xhr.response;j.push(a),v(j),T(),e.onUploadCompleted(a)},onError:function(t){var a,n=(null===t||void 0===t||null===(a=t.xhr)||void 0===a?void 0:a.response)||"Unable to upload file";e.onUploadError(n)},emptyTemplate:function(){return(0,f.jsxs)("div",{className:"flex justify-content-center align-items-center gap-3 text-500",children:[(0,f.jsx)("i",{className:"pi pi-upload text-5xl"}),(0,f.jsx)("span",{className:"font-bold",children:e.label})]})}}),(0,f.jsx)(E,{})]})};h.defaultProps={onChange:function(){},onUploadCompleted:function(){},onUploadError:function(){}}},5302:function(e,t,a){a.r(t);var n=a(5888),i=a(919),r=a(1063),s=a(9542),l=a(3301),o=a(5852),c=a(9025),u=a(3504),p=a(1091),d=a(8784),m=(a(2557),a(1439)),f=a(3898),h=a(4018),x=a(1455),g=a(7824),b=a(184),j=function(e){var t=(0,h.Z)(),a=(0,g.Z)({search:{tagTitle:"Search",value:"",valueType:"single",options:[]}}),j=(0,x.Z)(e,a),v=j.records,N=j.pageReady,w=j.loading,y=j.selectedItems,C=j.sortBy,k=j.sortOrder,D=j.apiRequestError,S=j.setSelectedItems,P=j.getPageBreadCrumbs,I=j.onSort,_=j.deleteItem,F=j.pagination,Z=a.filters,z=a.setFilterValue,R=F.totalRecords,T=F.totalPages,U=F.recordsPosition,M=F.firstRow,E=F.limit,B=F.onPageChange;function L(){if(N&&!v.length)return(0,b.jsx)("div",{className:"text-lg mt-3 p-3 text-center text-400 font-bold",children:"Tidak Ada Di Temukan !"})}function G(){if(y.length)return(0,b.jsx)("div",{className:"m-2 flex-grow-0",children:(0,b.jsx)(i.z,{onClick:function(){return _(y)},icon:"pi pi-trash",className:"p-button-danger",title:"Delete Selected"})})}function H(){if(e.importData)return(0,b.jsx)("div",{className:"m-2",children:(0,b.jsx)(o.M,{label:"Select a file to import",uploadPath:"tbl_guru/importdata",buttonIcon:"pi pi-folder",buttonLabel:"Import Data",onImportCompleted:function(e){t.flashMsg("Import Data",e,"success")}})})}function O(){if(e.paginate&&T>1){var t={layout:F.layout,CurrentPageReport:function(e){return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("span",{className:"text-sm text-gray-500 px-2",children:["Records ",(0,b.jsxs)("b",{children:[U," of ",e.totalRecords]})]})})}};return(0,b.jsx)("div",{className:"flex-grow-1",children:(0,b.jsx)(d.D,{first:M,rows:E,totalRecords:R,onPageChange:B,template:t})})}}function A(){if(N&&e.showFooter)return(0,b.jsxs)("div",{className:"flex flex-wrap justify-content-between",children:[(0,b.jsx)(G,{}),(0,b.jsx)(H,{}),(0,b.jsx)(O,{})]})}function V(){if(e.showBreadcrumbs){var t=P();return t.length>0&&(0,b.jsx)(n.c,{className:"mb-3",model:t})}}return D?(0,b.jsx)(p.M,{error:D}):(0,b.jsxs)("main",{id:"TblGuruListPage",className:"main-page",children:[e.showHeader&&(0,b.jsx)("section",{className:"page-section mb-3",children:(0,b.jsx)("div",{className:"container-fluid",children:(0,b.jsxs)("div",{className:"grid justify-content-between align-items-center",children:[(0,b.jsx)("div",{className:"col ",children:(0,b.jsx)(f.D,{title:"Data Guru",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})}),(0,b.jsx)("div",{className:"col-12 md:col-3 ",children:(0,b.jsx)(u.rU,{to:"/tbl_guru/add",children:(0,b.jsx)(i.z,{label:"Tambah Guru",icon:"pi pi-plus",type:"button",className:"p-button bg-primary "})})}),(0,b.jsx)("div",{className:"col-12 md:col-5 lg:col-4 ",children:(0,b.jsxs)("span",{className:"p-input-icon-left w-full",children:[(0,b.jsx)("i",{className:"pi pi-search"}),(0,b.jsx)(c.o,{placeholder:"Cari Nama Guru",className:"w-full",value:Z.search.value,onChange:function(e){return z("search",e.target.value)}})]})})]})})}),(0,b.jsx)("section",{className:"page-section ",children:(0,b.jsx)("div",{className:"container-fluid",children:(0,b.jsx)("div",{className:"grid ",children:(0,b.jsxs)("div",{className:"col comp-grid",children:[(0,b.jsx)(l.W,{filterController:a}),(0,b.jsxs)("div",{children:[(0,b.jsx)(V,{}),(0,b.jsxs)("div",{className:"".concat(e.isSubPage?"":"card "),children:[(0,b.jsx)("div",{className:"page-records",children:(0,b.jsxs)(s.w,{lazy:!0,loading:w,selectionMode:"checkbox",selection:y,onSelectionChange:function(e){return S(e.value)},value:v,dataKey:"id_guru",sortField:C,sortOrder:k,onSort:I,className:" p-datatable-sm",stripedRows:!0,showGridlines:!1,rowHover:!0,responsiveLayout:"stack",emptyMessage:(0,b.jsx)(L,{}),children:[(0,b.jsx)(r.s,{selectionMode:"multiple",headerStyle:{width:"2rem"}}),(0,b.jsx)(r.s,{field:"nama_guru",header:"Nama Guru"}),(0,b.jsx)(r.s,{headerStyle:{width:"2rem"},headerClass:"text-center",body:function(e){var a=[{label:"View",command:function(a){t.navigate("/tbl_guru/view/".concat(e.id_guru))},icon:"pi pi-eye"},{label:"Edit",command:function(a){t.navigate("/tbl_guru/edit/".concat(e.id_guru))},icon:"pi pi-pencil"},{label:"Delete",command:function(t){_(e.id_guru)},icon:"pi pi-trash"}];return(0,b.jsx)(m.a,{dropdownIcon:"pi pi-bars",className:"dropdown-only p-button-text p-button-plain",model:a})}})]})}),(0,b.jsx)(A,{})]})]})]})})})})]})};j.defaultProps={primaryKey:"id_guru",pageName:"tbl_guru",apiPath:"tbl_guru/index",routeName:"tbl_gurulist",msgBeforeDelete:"Yakin Menghapus Data Ini?",msgTitle:"Delete Record",msgAfterDelete:"Data Berhasil Di Hapus !",showHeader:!0,showFooter:!0,paginate:!0,isSubPage:!1,showBreadcrumbs:!0,exportData:!1,importData:!0,keepRecords:!1,multiCheckbox:!0,search:"",fieldName:null,fieldValue:null,sortField:"",sortDir:"",pageNo:1,limit:20},t.default=j}}]);
//# sourceMappingURL=5302.c7ea48d7.chunk.js.map