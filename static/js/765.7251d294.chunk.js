"use strict";(self.webpackChunkpiket=self.webpackChunkpiket||[]).push([[765],{229:function(e,t,a){a.d(t,{h:function(){return d}});var i=a(2791),s=a(894),r=a(4018),n=a(4072),o=a(919),l=a(1085),c=a(184),d=function(e){var t=(0,n.Z)(),a=(0,r.Z)(),d=(0,s.Z)(),u=(0,i.useRef)(null),p=e.pdf,m=e.csv,f=e.excel,x=(e.pageName,e.print,e.downloadFileName),h=e.pageUrl,g=e.buttonLabel,v=e.buttonTitle,j=e.buttonIcon,b=[];function N(e,i){i=i||e;var s={export:e},r=d.setApiPath(h,s),n="".concat(x,".").concat(i);a.showAppLoading("Exporting records..."),t.download(r).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=t,i.setAttribute("download",n),document.body.appendChild(i),i.click(),i.remove(),a.showAppLoading(!1)}),(function(e){console.error(e),a.showAppLoading(!1),alert("Unable to download file")}))}if(m&&b.push({label:"Csv",icon:"pi pi-table text-green-200",command:function(){N("csv")}}),p&&b.push({label:"Pdf",icon:"pi pi-file-pdf text-pink-500",command:function(){N("pdf")}}),f&&b.push({label:"Excel",icon:"pi pi-file-excel text-green-500",command:function(){N("excel","xlsx")}}),p||m||f)return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.z,{onClick:function(e){return u.current.toggle(e)},label:g,tooltip:v,icon:j}),(0,c.jsx)(l.v,{ref:u,popup:!0,model:b})]})};d.defaultProps={pdf:!0,csv:!0,excel:!0,print:!0,pageUrl:"",downloadFileName:"records",buttonTitle:"Export Data",buttonLabel:"Export",buttonIcon:"pi pi-print"}},5852:function(e,t,a){a.d(t,{M:function(){return d}});var i=a(885),s=a(2791),r=a(4018),n=a(919),o=a(4286),l=a(5815),c=a(184),d=function(e){var t=(0,r.Z)(),a=e.uploadPath,d=e.buttonLabel,u=e.buttonIcon,p=e.buttonTitle,m=e.dragDropMsg,f=(0,s.useState)(!1),x=(0,i.Z)(f,2),h=x[0],g=x[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.z,{onClick:function(){return g(!h)},label:d,tooltip:p,icon:u}),(0,c.jsx)(o.V,{draggable:!1,modal:!1,header:"Import Data",visible:h,onHide:function(){return g(!1)},position:"bottom",breakpoints:{"960px":"50vw","640px":"95vw"},style:{width:"30vw"},children:(0,c.jsx)("div",{children:(0,c.jsx)(l.Q,{showUploadedFiles:!1,uploadPath:a,onUploadError:function(e){return a=e,void t.flashMsg("Upload error",a,"error");var a},onUploadCompleted:function(t){return function(t){e.onImportCompleted(t)}(t)},fileLimit:1,maxFileSize:10,accept:".csv",multiple:!1,label:m})})})]})};d.defaultProps={uploadPath:"fileuploader/upload/import",buttonLabel:"Import Data",buttonTitle:"Import Data",buttonIcon:"pi pi-print",dragDropMsg:"Choose file to import",onImportCompleted:function(){}}},5815:function(e,t,a){a.d(t,{Q:function(){return x}});var i=a(4165),s=a(5861),r=a(885),n=a(2791),o=a(1128),l=a(7162),c=a(919),d=a(894),u=a(3306),p=a(4072),m=a(6884),f=a(184),x=function(e){var t=(0,d.Z)(),a=(0,p.Z)(),x=(0,u.Z)(),h=(0,n.useRef)(null),g=(0,n.useState)([]),v=(0,r.Z)(g,2),j=v[0],b=v[1],N=(0,n.useState)([]),w=(0,r.Z)(N,2),y=w[0],D=w[1],P=(0,n.useState)(!1),S=(0,r.Z)(P,2),R=S[0],C=S[1];(0,n.useEffect)((function(){if(e.value){var t=e.value.toString().split(",");b(t)}}),[e.value]);var _=e.maxFileSize||10,Z=e.fileLimit||10,k=e.multiple,I=e.accept,E=1024*_*1024;function F(){var e=[];j.forEach((function(a){var i=a.split("\\").pop().split("/").pop(),s=i.split(".").pop().toLowerCase(),r=!1;["jpg","png","gif","jpeg","bmp"].indexOf(s)>-1&&(r=!0);var n="small";a.indexOf("temp/")>-1&&(n="");var o=t.strEllipsis(i,15);e.push({name:i,shortName:o,isImage:r,size:n,path:a})})),D(e)}function U(){e.onChange(j.toString())}function B(e){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)((0,i.Z)().mark((function e(t){var s,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,-1===(s=j.indexOf(t.path))){e.next=11;break}return j.splice(s,1),b(j),F(),U(),"fileuploader/remove_temp_file",r={temp_file:t.path},e.next=11,a.post("fileuploader/remove_temp_file",r);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function M(){return e.showUploadedFiles&&y.length?(0,f.jsx)("div",{className:"flex gap-2 flex-wrap py-2",children:y.map((function(e){return(0,f.jsxs)("div",{children:[e.isImage&&(0,f.jsxs)("div",{className:"card flex justify-content-between gap-2 align-items-center p-1",children:[(0,f.jsx)(m.O,{width:"40px",height:"40px",imageSize:"small",src:e.path}),(0,f.jsx)(c.z,{type:"button",className:"p-button-danger p-button-sm p-button-text",onClick:function(){return B(e)},icon:"pi pi-times"})]}),!e.isImage&&(0,f.jsxs)("div",{className:"flex card p-1 gap-2 justify-content-between align-items-center p-1",children:[(0,f.jsx)("a",{target:"_blank",rel:"noreferrer",href:t.getFileFullPath(e.path),children:(0,f.jsx)(l.q,{size:"large",icon:"pi pi-file"})}),(0,f.jsx)("span",{className:"text-sm text-500",children:e.shortName}),(0,f.jsx)(c.z,{type:"button",className:"p-button-danger p-button-sm p-button-text",onClick:function(){return B(e)},icon:"pi pi-times"})]})]},e.path)}))}):null}(0,n.useEffect)((function(){F(),j.length>=Z?C(!0):C(!1)}),[j,j.length,Z]);return(0,f.jsxs)("div",{className:"p-2 surface-200",children:[(0,f.jsx)(o.p,{disabled:R,name:"file",ref:h,auto:!0,maxFileSize:E,accept:I,multiple:k,mode:"advanced",url:t.setApiPath(e.uploadPath),onBeforeSend:function(e){var t=x.getToken();e.xhr.setRequestHeader("Authorization","Bearer ".concat(t))},onUpload:function(t){var a=t.xhr.response;j.push(a),b(j),U(),e.onUploadCompleted(a)},onError:function(t){var a,i=(null===t||void 0===t||null===(a=t.xhr)||void 0===a?void 0:a.response)||"Unable to upload file";e.onUploadError(i)},emptyTemplate:function(){return(0,f.jsxs)("div",{className:"flex justify-content-center align-items-center gap-3 text-500",children:[(0,f.jsx)("i",{className:"pi pi-upload text-5xl"}),(0,f.jsx)("span",{className:"font-bold",children:e.label})]})}}),(0,f.jsx)(M,{})]})};x.defaultProps={onChange:function(){},onUploadCompleted:function(){},onUploadError:function(){}}},8355:function(e,t,a){var i=a(4165),s=a(5861),r=a(1413),n=a(885),o=a(2791),l=a(6871),c=a(4018),d=a(1933),u=a(4072),p=a(4621);t.Z=function(e){var t=e.props,a=e.formDefaultValues,m=e.afterSubmit,f=(0,c.Z)(),x=(0,u.Z)(),h=(0,l.UO)().pageid,g=(0,o.useState)(null),v=(0,n.Z)(g,2),j=v[0],b=v[1],N=(0,o.useState)(a),w=(0,n.Z)(N,2),y=w[0],D=w[1],P=(0,o.useState)(!1),S=(0,n.Z)(P,2),R=S[0],C=S[1],_=t.id||h;_=_||"";var Z="".concat(t.apiPath,"/").concat(_),k=(0,d.useQuery)([t.pageName,Z],(function(){return x.get(Z).then((function(e){return null===e||void 0===e?void 0:e.data}))}),{retry:!1}),I=k.isLoading,E=k.isError,F=k.data,U=k.error;(0,o.useEffect)((function(){if(F){var e=function(e){var t=(0,r.Z)({},e);return Object.keys(t).forEach((function(e){var i=t[e],s=a[e];Array.isArray(s)?t[e]=i?i.toString().split(","):s:s instanceof Date&&i&&(t[e]=new Date(i))})),t}(F);D(e),b(F),C(!0)}}),[F,E]);var B=(0,d.useQueryClient)(),T=(0,d.useMutation)((function(e){var t=function(e){var t=(0,r.Z)({},e);return Object.keys(t).forEach((function(e){var a=t[e];if(Array.isArray(a)){var i=a[0];t[e]=i&&"string"==typeof i?a.toString():a}else a instanceof Date?t[e]=a.toISOString().slice(0,19).replace("T"," "):""===a&&(t[e]=null)})),t}(e);return x.post(Z,t).then((function(e){return null===e||void 0===e?void 0:e.data}))}),{retry:!1,onSuccess:function(e){B.invalidateQueries(t.pageName),m&&m(e)},onError:function(e){f.showPageRequestError(e)}});var M={currentRecord:j,formData:y,inputClassName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w-full";return e?"".concat(t," p-invalid"):t},setFormData:D,handleSubmit:function(e,a){a.isValid||f.flashMsg(t.formValidationError,t.formValidationMsg,"error")},submitForm:function(e){var a=t.msgBeforeSave;a?(0,p.V)({header:t.msgTitle,message:a,icon:"pi pi-save",accept:function(){var t=(0,s.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.mutate(e);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),reject:function(){}}):T.mutate(e)},setCurrentRecord:b,pageReady:R,saving:T.isLoading,loading:I,apiRequestError:U};return(0,o.useMemo)((function(){return M}),[y,j,R,T.isLoading,I,U])}},9946:function(e,t,a){var i=a(4165),s=a(5861),r=a(885),n=a(2791),o=a(6871),l=a(4621),c=a(4018),d=a(1933),u=a(4072);t.Z=function(e){var t=(0,c.Z)(),a=(0,u.Z)(),p=(0,d.useQueryClient)(),m=(0,o.UO)().pageid,f=e.id||m;f=f||"";var x=(0,n.useState)(f),h=(0,r.Z)(x,2),g=h[0],v=h[1],j=(0,n.useState)(!1),b=(0,r.Z)(j,2),N=b[0],w=b[1],y=(0,n.useState)(!1),D=(0,r.Z)(y,2),P=D[0],S=D[1],R=(0,n.useState)(null),C=(0,r.Z)(R,2),_=C[0],Z=C[1],k="".concat(e.apiPath,"/").concat(encodeURIComponent(g)),I=(0,d.useQuery)([e.pageName,k],(function(){return a.get(k).then((function(e){return null===e||void 0===e?void 0:e.data}))}),{retry:!1}),E=I.isLoading,F=I.isError,U=I.data,B=I.error;function T(){return T=(0,s.Z)((0,i.Z)().mark((function r(n){var o,c;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n&&(o=e.msgTitle,c=e.msgBeforeDelete,(0,l.V)({message:c,header:o,icon:"pi pi-exclamation-triangle",accept:function(){var r=(0,s.Z)((0,i.Z)().mark((function s(){var r,l;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,S(!0),r=encodeURIComponent(n.toString()),l="".concat(e.pageName,"/delete/").concat(r),i.next=6,a.get(l);case 6:p.invalidateQueries(e.pageName),S(!1),t.isDialogOpen()?t.closeDialogs():t.navigate("/".concat(e.pageName)),t.flashMsg(o,e.msgAfterDelete),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(0),t.showPageRequestError(i.t0);case 15:case"end":return i.stop()}}),s,null,[[0,12]])})));return function(){return r.apply(this,arguments)}}(),reject:function(){}}));case 1:case"end":return r.stop()}}),r)}))),T.apply(this,arguments)}(0,n.useEffect)((function(){U&&(Z(U),w(!0))}),[U,F]);var M={currentRecord:_,item:_,pageReady:N,loading:E||P,apiRequestError:B,deleteItem:function(e){return T.apply(this,arguments)},moveToNextRecord:function(){v(null===U||void 0===U?void 0:U.nextRecordId)},moveToPreviousRecord:function(){v(null===U||void 0===U?void 0:U.previousRecordId)}};return(0,n.useMemo)((function(){return M}),[_,N,E,P,B])}},4620:function(e,t,a){a.r(t);var i=a(5888),s=a(919),r=a(1063),n=a(9542),o=a(229),l=a(3301),c=a(5852),d=a(9025),u=a(3504),p=a(1091),m=a(8784),f=(a(2557),a(1439)),x=a(3898),h=a(765),g=a(4018),v=a(894),j=a(1455),b=a(7824),N=a(184),w=function(e){var t=(0,g.Z)(),a=(0,v.Z)(),w=(0,b.Z)({search:{tagTitle:"Search",value:"",valueType:"single",options:[]}}),y=(0,j.Z)(e,w),D=y.records,P=y.pageReady,S=y.loading,R=y.selectedItems,C=y.apiUrl,_=y.sortBy,Z=y.sortOrder,k=y.apiRequestError,I=y.setSelectedItems,E=y.getPageBreadCrumbs,F=y.onSort,U=y.deleteItem,B=y.pagination,T=w.filters,M=w.setFilterValue,z=B.totalRecords,L=B.totalPages,V=B.recordsPosition,A=B.firstRow,H=B.limit,O=B.onPageChange;function q(){if(P&&!D.length)return(0,N.jsx)("div",{className:"text-lg mt-3 p-3 text-center text-400 font-bold",children:"Tidak Ada Di Temukan !"})}function Q(){if(R.length)return(0,N.jsx)("div",{className:"m-2 flex-grow-0",children:(0,N.jsx)(s.z,{onClick:function(){return U(R)},icon:"pi pi-trash",className:"p-button-danger",title:"Delete Selected"})})}function K(){if(e.exportData&&D.length){var t="".concat(a.dateNow(),"-permissions");return(0,N.jsx)("div",{className:"m-2",children:(0,N.jsx)(o.h,{pageUrl:C,downloadFileName:t,butonLabel:"",tooltip:"Export",buttonIcon:"pi pi-print"})})}}function G(){if(e.importData)return(0,N.jsx)("div",{className:"m-2",children:(0,N.jsx)(c.M,{label:"Select a file to import",uploadPath:"permissions/importdata",buttonIcon:"pi pi-folder",buttonLabel:"Import Data",onImportCompleted:function(e){t.flashMsg("Import Data",e,"success")}})})}function W(){if(e.paginate&&L>1){var t={layout:B.layout,CurrentPageReport:function(e){return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("span",{className:"text-sm text-gray-500 px-2",children:["Records ",(0,N.jsxs)("b",{children:[V," of ",e.totalRecords]})]})})}};return(0,N.jsx)("div",{className:"flex-grow-1",children:(0,N.jsx)(m.D,{first:A,rows:H,totalRecords:z,onPageChange:O,template:t})})}}function Y(){if(P&&e.showFooter)return(0,N.jsxs)("div",{className:"flex flex-wrap justify-content-between",children:[(0,N.jsx)(Q,{}),(0,N.jsx)(K,{}),(0,N.jsx)(G,{}),(0,N.jsx)(W,{})]})}function J(){if(e.showBreadcrumbs){var t=E();return t.length>0&&(0,N.jsx)(i.c,{className:"mb-3",model:t})}}return k?(0,N.jsx)(p.M,{error:k}):(0,N.jsxs)("main",{id:"PermissionsListPage",className:"main-page",children:[e.showHeader&&(0,N.jsx)("section",{className:"page-section mb-3",children:(0,N.jsx)("div",{className:"container-fluid",children:(0,N.jsxs)("div",{className:"grid justify-content-between align-items-center",children:[(0,N.jsx)("div",{className:"col ",children:(0,N.jsx)(x.D,{title:"Permissions",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})}),(0,N.jsx)("div",{className:"col-12 md:col-3 ",children:(0,N.jsx)(u.rU,{to:"/permissions/add",children:(0,N.jsx)(s.z,{label:"Add New Permissions",icon:"pi pi-plus",type:"button",className:"p-button bg-primary "})})}),(0,N.jsx)("div",{className:"col-12 md:col-5 lg:col-4 ",children:(0,N.jsxs)("span",{className:"p-input-icon-left w-full",children:[(0,N.jsx)("i",{className:"pi pi-search"}),(0,N.jsx)(d.o,{placeholder:"Search",className:"w-full",value:T.search.value,onChange:function(e){return M("search",e.target.value)}})]})})]})})}),(0,N.jsx)("section",{className:"page-section ",children:(0,N.jsx)("div",{className:"container-fluid",children:(0,N.jsx)("div",{className:"grid ",children:(0,N.jsxs)("div",{className:"col comp-grid",children:[(0,N.jsx)(l.W,{filterController:w}),(0,N.jsxs)("div",{children:[(0,N.jsx)(J,{}),(0,N.jsxs)("div",{className:"".concat(e.isSubPage?"":"card "),children:[(0,N.jsx)("div",{className:"page-records",children:(0,N.jsxs)(n.w,{lazy:!0,loading:S,selectionMode:"checkbox",selection:R,onSelectionChange:function(e){return I(e.value)},value:D,dataKey:"permission_id",sortField:_,sortOrder:Z,onSort:F,className:" p-datatable-sm",stripedRows:!0,showGridlines:!1,rowHover:!0,responsiveLayout:"stack",emptyMessage:(0,N.jsx)(q,{}),children:[(0,N.jsx)(r.s,{selectionMode:"multiple",headerStyle:{width:"2rem"}}),(0,N.jsx)(r.s,{field:"permission_id",header:"Permission Id",body:function(e){if(e)return(0,N.jsxs)(u.rU,{to:"/permissions/view/".concat(e.permission_id),children:[" ",e.permission_id]})}}),(0,N.jsx)(r.s,{field:"permission",header:"Permission"}),(0,N.jsx)(r.s,{field:"role_id",header:"Role Id",body:function(e){if(e)return(0,N.jsx)(N.Fragment,{children:e.role_id&&(0,N.jsx)(s.z,{className:"p-button-text",icon:"pi pi-eye",label:"Roles",onClick:function(){return t.openPageDialog((0,N.jsx)(h.default,{isSubPage:!0,apiPath:"/roles/view/".concat(e.role_id)}),{closeBtn:!0})}})})}}),(0,N.jsx)(r.s,{headerStyle:{width:"2rem"},headerClass:"text-center",body:function(e){var a=[{label:"View",command:function(a){t.navigate("/permissions/view/".concat(e.permission_id))},icon:"pi pi-eye"},{label:"Edit",command:function(a){t.navigate("/permissions/edit/".concat(e.permission_id))},icon:"pi pi-pencil"},{label:"Delete",command:function(t){U(e.permission_id)},icon:"pi pi-trash"}];return(0,N.jsx)(f.a,{dropdownIcon:"pi pi-bars",className:"dropdown-only p-button-text p-button-plain",model:a})}})]})}),(0,N.jsx)(Y,{})]})]})]})})})})]})};w.defaultProps={primaryKey:"permission_id",pageName:"permissions",apiPath:"permissions/index",routeName:"permissionslist",msgBeforeDelete:"Yakin Menghapus Data Ini?",msgTitle:"Delete Record",msgAfterDelete:"Data Berhasil Di Hapus !",showHeader:!0,showFooter:!0,paginate:!0,isSubPage:!1,showBreadcrumbs:!0,exportData:!0,importData:!0,keepRecords:!1,multiCheckbox:!0,search:"",fieldName:null,fieldValue:null,sortField:"",sortDir:"",pageNo:1,limit:20},t.default=w},5882:function(e,t,a){a.r(t);var i=a(5705),s=a(9562),r=a(919),n=a(9025),o=a(1091),l=a(2557),c=a(3898),d=a(4018),u=a(8355),p=a(184),m=function(e){var t=(0,d.Z)(),a=s.Ry().shape({role_name:s.Z_().required().label("Role Name")}),m=(0,u.Z)({props:e,formDefaultValues:{role_name:""},afterSubmit:function(a){t.flashMsg(e.msgTitle,e.msgAfterSave),t.isDialogOpen()?t.closeDialogs():e.redirect&&t.navigate("/roles")}}),f=m.formData,x=m.handleSubmit,h=m.submitForm,g=m.pageReady,v=m.loading,j=m.saving,b=m.apiRequestError,N=m.inputClassName;return v?(0,p.jsx)("div",{className:"p-3 text-center",children:(0,p.jsx)(l.G,{style:{width:"50px",height:"50px"}})}):b?(0,p.jsx)(o.M,{error:b}):g?(0,p.jsxs)("main",{id:"RolesEditPage",className:"main-page",children:[e.showHeader&&(0,p.jsx)("section",{className:"page-section mb-3",children:(0,p.jsx)("div",{className:"container",children:(0,p.jsxs)("div",{className:"grid align-items-center",children:[!e.isSubPage&&(0,p.jsx)("div",{className:"col-fixed ",children:(0,p.jsx)(r.z,{onClick:function(){return t.navigate(-1)},label:"",className:"p-button p-button-text ",icon:"pi pi-arrow-left"})}),(0,p.jsx)("div",{className:"col ",children:(0,p.jsx)(c.D,{title:"Edit Roles",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})})]})})}),(0,p.jsx)("section",{className:"page-section ",children:(0,p.jsx)("div",{className:"container",children:(0,p.jsx)("div",{className:"grid ",children:(0,p.jsx)("div",{className:"md:col-9 sm:col-12 comp-grid",children:(0,p.jsx)("div",{children:(0,p.jsx)(i.J9,{initialValues:f,validationSchema:a,onSubmit:function(e,t){h(e)},children:function(t){var a;return(0,p.jsxs)(i.l0,{className:"".concat(e.isSubPage?"":"card "),children:[(0,p.jsx)("div",{className:"grid",children:(0,p.jsx)("div",{className:"col-12",children:(0,p.jsxs)("div",{className:"formgrid grid",children:[(0,p.jsx)("div",{className:"col-12 md:col-3",children:"Role Name *"}),(0,p.jsxs)("div",{className:"col-12 md:col-9",children:[(0,p.jsx)(n.o,{name:"role_name",onChange:t.handleChange,value:t.values.role_name,label:"Role Name",type:"text",placeholder:"Enter Role Name",className:N(null===t||void 0===t||null===(a=t.errors)||void 0===a?void 0:a.role_name)}),(0,p.jsx)(i.Bc,{name:"role_name",component:"span",className:"p-error"})]})]})})}),e.showFooter&&(0,p.jsx)("div",{className:"text-center my-3",children:(0,p.jsx)(r.z,{onClick:function(e){return x(e,t)},type:"submit",label:"Perbaharui",icon:"pi pi-send",loading:j})})]})}})})})})})})]}):void 0};m.defaultProps={primaryKey:"role_id",pageName:"roles",apiPath:"roles/edit",routeName:"rolesedit",submitButtonLabel:"Perbaharui",formValidationError:"Form is invalid",formValidationMsg:"Please complete the form",msgTitle:"Update Record",msgAfterSave:"Data Berhasil Di Perbaharui !",msgBeforeSave:"",showHeader:!0,showFooter:!0,redirect:!0,isSubPage:!1},t.default=m},6535:function(e,t,a){a.r(t);var i=a(2791),s=a(9739),r=a(3898),n=a(4620),o=a(4018),l=a(7635),c=a(184);t.default=function(e){var t=(0,o.Z)(),a=e.masterRecord,d=e.scrollIntoView,u=void 0===d||d;if((0,i.useEffect)((function(){!function(){if(u){var e=document.getElementById("master-detailpage");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}(),function(){var e=a,i={role_id:null===e||void 0===e?void 0:e.role_id};t.setPageFormData("permissions",i);var s={user_role_id:null===e||void 0===e?void 0:e.role_id};t.setPageFormData("user",s)}()}),[a]),a)return(0,c.jsx)("div",{id:"master-detailpage",children:(0,c.jsxs)(s.f,{value:0,children:[(0,c.jsx)(s.x,{header:(0,c.jsx)(r.D,{title:"Roles Permissions",headerClass:"p-0",titleClass:"text-lg font-bold",iconClass:"pi pi-th-large",avatarSize:"small",separator:!1}),children:(0,c.jsx)("div",{className:"reset-grid",children:(0,c.jsx)(n.default,{isSubPage:!0,fieldName:"permissions.role_id",fieldValue:a.role_id,showBreadcrumbs:!1,showHeader:!1,showFooter:!0})})}),(0,c.jsx)(s.x,{header:(0,c.jsx)(r.D,{title:"Roles User",headerClass:"p-0",titleClass:"text-lg font-bold",iconClass:"pi pi-th-large",avatarSize:"small",separator:!1}),children:(0,c.jsx)("div",{className:"reset-grid",children:(0,c.jsx)(l.default,{isSubPage:!0,fieldName:"user.user_role_id",fieldValue:a.role_id,showBreadcrumbs:!1,showHeader:!1,showFooter:!0})})})]})})}},765:function(e,t,a){a.r(t);var i=a(919),s=a(6502),r=a(1091),n=a(2557),o=a(3898),l=a(5882),c=a(4018),d=a(9946),u=a(6535),p=a(184),m=function(e){var t=(0,c.Z)(),a=(0,d.Z)(e),m=a.item,f=a.currentRecord,x=a.pageReady,h=a.loading,g=a.apiRequestError,v=a.deleteItem;function j(){if(e.showFooter)return(0,p.jsx)("div",{className:"flex justify-content-between"})}return h?(0,p.jsx)("div",{className:"p-3 text-center",children:(0,p.jsx)(n.G,{style:{width:"50px",height:"50px"}})}):g?(0,p.jsx)(r.M,{error:g}):x?(0,p.jsxs)("div",{children:[(0,p.jsxs)("main",{id:"RolesViewPage",className:"main-page",children:[e.showHeader&&(0,p.jsx)("section",{className:"page-section mb-3",children:(0,p.jsx)("div",{className:"container",children:(0,p.jsxs)("div",{className:"grid align-items-center",children:[!e.isSubPage&&(0,p.jsx)("div",{className:"col-fixed ",children:(0,p.jsx)(i.z,{onClick:function(){return t.navigate(-1)},label:"",className:"p-button p-button-text ",icon:"pi pi-arrow-left"})}),(0,p.jsx)("div",{className:"col ",children:(0,p.jsx)(o.D,{title:"Roles Details",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})})]})})}),(0,p.jsx)("section",{className:"page-section ",children:(0,p.jsx)("div",{className:"container",children:(0,p.jsx)("div",{className:"grid ",children:(0,p.jsx)("div",{className:"col comp-grid",children:(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"grid ",children:[(0,p.jsxs)("div",{className:"col",children:[(0,p.jsxs)("div",{className:"mb-3 grid justify-content-start",children:[(0,p.jsx)("div",{className:"col-12 md:col-4",children:(0,p.jsx)("div",{className:"flex gap-3 align-items-center card p-3",children:(0,p.jsxs)("div",{className:"",children:[(0,p.jsx)("div",{className:"text-400 font-medium mb-1",children:"Role Id"}),(0,p.jsx)("div",{className:"font-bold",children:m.role_id})]})})}),(0,p.jsx)("div",{className:"col-12 md:col-4",children:(0,p.jsx)("div",{className:"flex gap-3 align-items-center card p-3",children:(0,p.jsxs)("div",{className:"",children:[(0,p.jsx)("div",{className:"text-400 font-medium mb-1",children:"Role Name"}),(0,p.jsx)("div",{className:"font-bold",children:m.role_name})]})})})]}),(0,p.jsxs)("div",{className:"flex justify-content-between",children:[e.exportButton&&(0,p.jsx)(i.z,{icon:"pi pi-print",className:"mx-xs",title:"Export"}),(0,p.jsx)("div",{className:"flex justify-content-start",children:function(e){var a=[{label:"Edit",command:function(a){t.openPageDialog((0,p.jsx)(l.default,{isSubPage:!0,apiPath:"/roles/edit/".concat(e.role_id)}),{closeBtn:!0})},icon:"pi pi-pencil"},{label:"Delete",command:function(t){v(e.role_id)},icon:"pi pi-trash"}];return(0,p.jsx)(s.n,{className:"p-0 ",model:a})}(m)})]})]}),f&&!e.isSubPage&&(0,p.jsx)("div",{className:"col-12",children:(0,p.jsx)("div",{className:"card my-3",children:(0,p.jsx)(u.default,{masterRecord:f,scrollIntoView:!1})})})]})})})})})})]}),(0,p.jsx)(j,{})]}):void 0};m.defaultProps={id:null,primaryKey:"role_id",pageName:"roles",apiPath:"roles/view",routeName:"rolesview",msgBeforeDelete:"Yakin Menghapus Data Ini?",msgTitle:"Delete Record",msgAfterDelete:"Data Berhasil Di Hapus !",showHeader:!0,showFooter:!0,exportButton:!0,isSubPage:!1},t.default=m},7635:function(e,t,a){a.r(t);var i=a(5888),s=a(919),r=a(1063),n=a(9542),o=a(3301),l=a(6884),c=a(5852),d=a(9025),u=a(3504),p=a(1091),m=a(8784),f=(a(2557),a(1439)),x=a(3898),h=a(765),g=a(4018),v=a(1455),j=a(7824),b=a(184),N=function(e){var t=(0,g.Z)(),a=(0,j.Z)({search:{tagTitle:"Search",value:"",valueType:"single",options:[]}}),N=(0,v.Z)(e,a),w=N.records,y=N.pageReady,D=N.loading,P=N.selectedItems,S=N.sortBy,R=N.sortOrder,C=N.apiRequestError,_=N.setSelectedItems,Z=N.getPageBreadCrumbs,k=N.onSort,I=N.deleteItem,E=N.pagination,F=a.filters,U=a.setFilterValue,B=E.totalRecords,T=E.totalPages,M=E.recordsPosition,z=E.firstRow,L=E.limit,V=E.onPageChange;function A(){if(y&&!w.length)return(0,b.jsx)("div",{className:"text-lg mt-3 p-3 text-center text-400 font-bold",children:"Tidak Ada Di Temukan !"})}function H(){if(P.length)return(0,b.jsx)("div",{className:"m-2 flex-grow-0",children:(0,b.jsx)(s.z,{onClick:function(){return I(P)},icon:"pi pi-trash",className:"p-button-danger",title:"Delete Selected"})})}function O(){if(e.importData)return(0,b.jsx)("div",{className:"m-2",children:(0,b.jsx)(c.M,{label:"Select a file to import",uploadPath:"user/importdata",buttonIcon:"pi pi-folder",buttonLabel:"Import Data",onImportCompleted:function(e){t.flashMsg("Import Data",e,"success")}})})}function q(){if(e.paginate&&T>1){var t={layout:E.layout,CurrentPageReport:function(e){return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("span",{className:"text-sm text-gray-500 px-2",children:["Records ",(0,b.jsxs)("b",{children:[M," of ",e.totalRecords]})]})})}};return(0,b.jsx)("div",{className:"flex-grow-1",children:(0,b.jsx)(m.D,{first:z,rows:L,totalRecords:B,onPageChange:V,template:t})})}}function Q(){if(y&&e.showFooter)return(0,b.jsxs)("div",{className:"flex flex-wrap justify-content-between",children:[(0,b.jsx)(H,{}),(0,b.jsx)(O,{}),(0,b.jsx)(q,{})]})}function K(){if(e.showBreadcrumbs){var t=Z();return t.length>0&&(0,b.jsx)(i.c,{className:"mb-3",model:t})}}return C?(0,b.jsx)(p.M,{error:C}):(0,b.jsxs)("main",{id:"UserListPage",className:"main-page",children:[e.showHeader&&(0,b.jsx)("section",{className:"page-section mb-3",children:(0,b.jsx)("div",{className:"container-fluid",children:(0,b.jsxs)("div",{className:"grid justify-content-between align-items-center",children:[(0,b.jsx)("div",{className:"col ",children:(0,b.jsx)(x.D,{title:"Data User",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})}),(0,b.jsx)("div",{className:"col-12 md:col-3 ",children:(0,b.jsx)(u.rU,{to:"/user/add",children:(0,b.jsx)(s.z,{label:"Tambah User",icon:"pi pi-plus",type:"button",className:"p-button bg-primary "})})}),(0,b.jsx)("div",{className:"col-12 md:col-5 lg:col-4 ",children:(0,b.jsxs)("span",{className:"p-input-icon-left w-full",children:[(0,b.jsx)("i",{className:"pi pi-search"}),(0,b.jsx)(d.o,{placeholder:"Search",className:"w-full",value:F.search.value,onChange:function(e){return U("search",e.target.value)}})]})})]})})}),(0,b.jsx)("section",{className:"page-section ",children:(0,b.jsx)("div",{className:"container-fluid",children:(0,b.jsx)("div",{className:"grid ",children:(0,b.jsxs)("div",{className:"col comp-grid",children:[(0,b.jsx)(o.W,{filterController:a}),(0,b.jsxs)("div",{children:[(0,b.jsx)(K,{}),(0,b.jsxs)("div",{className:"".concat(e.isSubPage?"":"card "),children:[(0,b.jsx)("div",{className:"page-records",children:(0,b.jsxs)(n.w,{lazy:!0,loading:D,selectionMode:"checkbox",selection:P,onSelectionChange:function(e){return _(e.value)},value:w,dataKey:"id_user",sortField:S,sortOrder:R,onSort:k,className:" p-datatable-sm",stripedRows:!0,showGridlines:!1,rowHover:!0,responsiveLayout:"stack",emptyMessage:(0,b.jsx)(A,{}),children:[(0,b.jsx)(r.s,{selectionMode:"multiple",headerStyle:{width:"2rem"}}),(0,b.jsx)(r.s,{field:"username",header:"Username"}),(0,b.jsx)(r.s,{field:"email",header:"Email",body:function(e){if(e)return(0,b.jsx)("a",{className:"p-button-text",href:"mailto:"+e.email,children:e.email})}}),(0,b.jsx)(r.s,{field:"telp",header:"Telp"}),(0,b.jsx)(r.s,{field:"foto_user",header:"Foto User",body:function(e){if(e)return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(l.O,{imageSize:"small",previewSize:"",src:e.foto_user,width:"50px",height:"50px",numDisplay:1,style:{maxWidth:"100%"}})})}}),(0,b.jsx)(r.s,{field:"user_role_id",header:"User Role Id",body:function(e){if(e)return(0,b.jsx)(b.Fragment,{children:e.user_role_id&&(0,b.jsx)(s.z,{className:"p-button-text",icon:"pi pi-eye",label:"Roles",onClick:function(){return t.openPageDialog((0,b.jsx)(h.default,{isSubPage:!0,apiPath:"/roles/view/".concat(e.user_role_id)}),{closeBtn:!0})}})})}}),(0,b.jsx)(r.s,{headerStyle:{width:"2rem"},headerClass:"text-center",body:function(e){var a=[{label:"View",command:function(a){t.navigate("/user/view/".concat(e.id_user))},icon:"pi pi-eye"},{label:"Edit",command:function(a){t.navigate("/user/edit/".concat(e.id_user))},icon:"pi pi-pencil"},{label:"Delete",command:function(t){I(e.id_user)},icon:"pi pi-trash"}];return(0,b.jsx)(f.a,{dropdownIcon:"pi pi-bars",className:"dropdown-only p-button-text p-button-plain",model:a})}})]})}),(0,b.jsx)(Q,{})]})]})]})})})})]})};N.defaultProps={primaryKey:"id_user",pageName:"user",apiPath:"user/index",routeName:"userlist",msgBeforeDelete:"Yakin Menghapus Data Ini?",msgTitle:"Delete Record",msgAfterDelete:"Data Berhasil Di Hapus !",showHeader:!0,showFooter:!0,paginate:!0,isSubPage:!1,showBreadcrumbs:!0,exportData:!1,importData:!0,keepRecords:!1,multiCheckbox:!0,search:"",fieldName:null,fieldValue:null,sortField:"",sortDir:"",pageNo:1,limit:20},t.default=N}}]);
//# sourceMappingURL=765.7251d294.chunk.js.map