"use strict";(self.webpackChunkpiket=self.webpackChunkpiket||[]).push([[1450,1323,7691],{3301:function(e,t,r){r.d(t,{W:function(){return u}});var n=r(885),a=r(2791),i=r(919),s=r(7387),l=r(184),u=function(e){var t=e.filterController,r=e.tagClassName,u=t.filters,o=t.removeFilter,c=t.filterHasValue,f=t.getFilterValue,d=function(e,t){return"multiple"===t.valueType||"multiple-date"===t.valueType?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{children:[t.tagTitle,":"]}),t.value.map((function(r){return(0,l.jsx)(s.A,{label:f(t,r),className:"ml-2",removable:!0,onRemove:function(){return o(e,r)}},r)}))]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{children:[t.tagTitle,":"]}),(0,l.jsx)("strong",{className:"text-primary ml-2",children:f(t)}),(0,l.jsx)(i.z,{onClick:function(){return o(e)},className:"p-button-sm p-button-text p-button-plain",icon:"pi pi-times"})]})};return(0,l.jsx)("div",{className:"flex flex-wrap",children:Object.entries(u).map((function(e){var t=(0,n.Z)(e,2),i=t[0],s=t[1];return(0,l.jsx)(a.Fragment,{children:c(i)&&(0,l.jsx)("div",{className:r,children:d(i,s)})},i)}))})};u.defaultProps={pageFilterController:{},tagClassName:"flex card justify-content-between align-items-center surface-card pl-3 p-1 py-1 text-500 text-center mb-3 mr-2"}},1091:function(e,t,r){r.d(t,{M:function(){return l}});var n=r(8284),a=r(1323),i=r(7691),s=r(184),l=function(e){var t=e.error.response,r=t.status,l=void 0===r?500:r,u=t.data,o=void 0===u?"Unable to process request.":u;return 404===l?(0,s.jsx)(n.default,{message:o}):403===l?(0,s.jsx)(a.default,{message:o}):(0,s.jsx)(i.default,{message:o})}},7824:function(e,t,r){var n=r(4942),a=r(1413),i=r(885),s=r(2791),l=r(3504),u=r(894);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=(0,u.Z)(),o=(0,l.lr)(),c=(0,i.Z)(o,1),f=c[0],d=f.get("filters");if(d)for(var v=JSON.parse(decodeURIComponent(d)),m=0,p=Object.entries(v);m<p.length;m++){var g=(0,i.Z)(p[m],2),x=g[0],h=g[1];e[x].value=h}var Z=(0,s.useState)(e),y=(0,i.Z)(Z,2),j=y[0],b=y[1],N=(0,s.useState)({}),S=(0,i.Z)(N,2),P=S[0],k=S[1];function C(e,t){var r=j[e];r.value=t,b((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,n.Z)({},e,r))}))}function R(e,t){var r=j[e];r.options=t,b((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,n.Z)({},e,r))}))}function T(){for(var e=[],t=0,r=Object.entries(j);t<r.length;t++){var n=(0,i.Z)(r[t],2),a=(n[0],n[1].value||"");e.push(a.toString())}return e.join("")}var w=T();function F(){for(var e={},t=0,n=Object.entries(j);t<n.length;t++){var a=(0,i.Z)(n[t],2),s=a[0],l=a[1];if(O(s))if("range"===l.valueType)e[s]={min:l.value[0],max:l.value[1]};else if("range-date"===l.valueType){var u=r.formatDate(l.value[0]),o=r.formatDate(l.value[1]);e[s]={from:u,to:o}}else"multiple-date"===l.valueType?e[s]=l.value.map((function(e){return r.formatDate(e)})):e[s]=l.value}k(e)}function D(e,t){var r=j[e];if(r){var i=r.valueType;if("single"==i)r.value="";else if("range"===i)r.value=null;else if("range-date"===i)r.value=[];else if("multiple"===i||"multiple-date"===i){var s=r.value.indexOf(t);r.value.splice(s,1)}b((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,n.Z)({},e,r))}))}}function O(e){var t=j[e];if(t){var r;if("range"===t.valueType)return(null===t||void 0===t||null===(r=t.value)||void 0===r?void 0:r.length)>0;if("range-date"===t.valueType)return!(!t.value[1]&&1);if(Array.isArray(t.value))return t.value.length>0;if(t.value)return!0}return!1}function I(e,t){if(e){if("range"===e.valueType&&e.value.length){var n=e.value[0],a=e.value[1];return"".concat(n," - ").concat(a)}if("range-date"===e.valueType&&e.value.length){var i=r.humanDate(e.value[0]),s=r.humanDate(e.value[1]);return"".concat(i," - ").concat(s)}if("multiple-date"===e.valueType){var l=t||e.value;return r.humanDate(l)}if("single-date"===e.valueType)return r.humanDate(e.value);if(e.options.length){var u=t||e.value,o=e.options.find((function(e){return e.value==u}));if(o)return o.label}else if(t)return t.toString();return e.value}return""}return(0,s.useEffect)((function(){var e=setTimeout((function(){F()}),t);return function(){return clearTimeout(e)}}),[w]),{filters:j,setFilterValue:C,setFilterOptions:R,removeFilter:D,filterHasValue:O,getFilterValue:I,filterParams:P}}},1455:function(e,t,r){var n=r(4165),a=r(5861),i=r(1413),s=r(2982),l=r(885),u=r(2791),o=r(3504),c=r(6871),f=r(1933),d=r(894),v=r(4621),m=r(4018),p=r(4072);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,m.Z)(),g=(0,p.Z)(),x=(0,d.Z)(),h=(0,f.useQueryClient)(),Z=(0,o.lr)(),y=(0,l.Z)(Z,1),j=y[0],b=(0,c.TH)(),N=(0,c.UO)(),S=N.fieldName,P=N.fieldValue;e.fieldName&&(S=e.fieldName),e.fieldValue&&(P=e.fieldValue);var k=e.sortField,C=e.sortDir,R=e.pageNo||1,T=e.limit||10;e.isSubPage||(k=j.get("orderby")||k,C=j.get("ordertype")||C,R=parseInt(j.get("page"))||R,T=parseInt(j.get("limit"))||T);var w=(0,u.useMemo)((function(){return(R-1)*T}),[R,T]),F=(0,u.useState)(w),D=(0,l.Z)(F,2),O=D[0],I=D[1],L=(0,u.useState)(R),A=(0,l.Z)(L,2),E=A[0],U=A[1],V=(0,u.useState)(null),M=(0,l.Z)(V,2),z=M[0],q=M[1],H=(0,u.useState)(T),Q=(0,l.Z)(H,2),B=Q[0],J=Q[1],K=(0,u.useState)(k),W=(0,l.Z)(K,2),Y=W[0],G=W[1],X=(0,u.useState)(C),$=(0,l.Z)(X,2),_=$[0],ee=$[1],te=(0,u.useState)(1),re=(0,l.Z)(te,2),ne=re[0],ae=re[1],ie=(0,u.useState)(!1),se=(0,l.Z)(ie,2),le=se[0],ue=se[1],oe=(0,u.useState)(!0),ce=(0,l.Z)(oe,2),fe=ce[0],de=ce[1],ve=(0,u.useState)([]),me=(0,l.Z)(ve,2),pe=me[0],ge=me[1],xe=(0,u.useState)([]),he=(0,l.Z)(xe,2),Ze=he[0],ye=he[1],je=(0,u.useState)(!1),be=(0,l.Z)(je,2),Ne=be[0],Se=be[1],Pe=(0,u.useState)(0),ke=(0,l.Z)(Pe,2),Ce=ke[0],Re=ke[1],Te=(0,u.useState)(0),we=(0,l.Z)(Te,2),Fe=we[0],De=we[1],Oe=(0,u.useState)(0),Ie=(0,l.Z)(Oe,2),Le=Ie[0],Ae=Ie[1],Ee=t.filterParams,Ue=x.serializeQuery(Ee),Ve={page:E,limit:B},Me=(0,u.useMemo)((function(){return Xe()}),[Ee,B,E,Y,_,S,P]),ze=e.keepRecords?0:5e4,qe=(0,f.useQuery)([e.pageName,Me],(function(){return Ge()}),{retry:!1,cacheTime:ze}),He=qe.isLoading,Qe=qe.isError,Be=qe.data,Je=qe.error,Ke=(0,u.useMemo)((function(){return Math.min(E*B,Fe)}),[E,B]),We=Le<B&&Ze.length>0,Ye=!He&&!We;function Ge(){return Me?g.get(Me).then((function(e){return null===e||void 0===e?void 0:e.data})):Promise.resolve(null)}function Xe(){var t=e.apiPath;S&&(t=t+"/"+encodeURIComponent(S)+"/"+encodeURIComponent(P)),Y&&(Ve.orderby=Y,_&&(Ve.ordertype=_.toLowerCase()));var r=x.serializeQuery((0,i.Z)((0,i.Z)({},Ve),Ee));return t.includes("?")?"".concat(t,"&").concat(r):"".concat(t,"?").concat(r)}function $e(){le&&E>1&&(U(1),I(0)),Se(!0)}function _e(e){I(e.first),J(e.rows),U(e.page+1)}function et(){U(E-1)}function tt(){U(E+1)}function rt(){var t=[],n=j.get("tag")||S;n&&t.push({label:n,icon:"pi pi-home",command:function(){return r.navigate("/".concat(e.pageName))}});var a=j.get("label")||P;return a&&t.push({label:a}),t}function nt(e){e.sortField&&(G(e.sortField),ae(e.sortOrder),ee("asc"===_?"desc":"asc"))}function at(){ee("desc"===_?"asc":"desc")}function it(e){ge([e])}function st(e){var t=e.data;q(t)}(0,u.useEffect)((function(){U(R),J(T),I(w)}),[R,T]),(0,u.useEffect)((function(){Be&&(null!==Be&&void 0!==Be&&Be.records?(e.keepRecords&&!Ne?ye([].concat((0,s.Z)(Ze),(0,s.Z)(Be.records))):ye(Be.records),Re(null===Be||void 0===Be?void 0:Be.totalPages),De(null===Be||void 0===Be?void 0:Be.totalRecords),Ae(null===Be||void 0===Be?void 0:Be.recordCount),Se(!1)):ye(Be),ue(!0))}),[Be,Qe]),(0,u.useEffect)((function(){if(!e.isSubPage&&!e.keepRecords){var t=Object.fromEntries(new URLSearchParams(b.search)),r=(0,i.Z)((0,i.Z)({},t),Ve);Ue?r.filters=encodeURIComponent(JSON.stringify(Ee)):delete r.filters}}),[Me]),(0,u.useEffect)((function(){(Ue||S||P)&&$e()}),[S,P,Ue]);var lt=null;function ut(e){return ot.apply(this,arguments)}function ot(){return ot=(0,a.Z)((0,n.Z)().mark((function t(i){var l,u,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i&&(l=(0,s.Z)(Ze),i=Array.isArray(i)?i.map((function(t){return t[e.primaryKey]})):[i],u=e.msgTitle,o=e.msgBeforeDelete,(0,v.V)({message:o,header:u,icon:"pi pi-exclamation-triangle",accept:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var a,s;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i.forEach((function(t){var r=l.findIndex((function(r){return r[e.primaryKey]===t}));-1!==r&&l.splice(r,1)})),ye(l),a=encodeURIComponent(i.toString()),s="".concat(e.pageName,"/delete/").concat(a),t.next=7,g.get(s);case 7:h.invalidateQueries(e.pageName),r.flashMsg(u,e.msgAfterDelete),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r.showPageRequestError(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),reject:function(){}}));case 1:case"end":return t.stop()}}),t)}))),ot.apply(this,arguments)}lt=1===pe.length?pe[0]:null;var ct={totalRecords:Fe,canLoadMore:Ye,finishedLoading:We,totalPages:Ce,recordsPosition:Ke,recordCount:Le,firstRow:O,currentPage:E,limit:B,onPageChange:_e,setPrevPage:et,setNextPage:tt,layout:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},ft={records:Ze,pageReady:le,loading:He,singleSelect:fe,selectedItems:pe,apiRequestError:Je,apiUrl:Me,currentRecord:lt,sortBy:Y,sortType:_,sortOrder:ne,expandedRows:z,expandRow:st,setSelectedItems:ge,setSingleSelect:de,getPageBreadCrumbs:rt,onSort:nt,setSortBy:G,setSortType:ee,toggleSortType:at,deleteItem:ut,setCurrentRecord:it,pagination:ct};return(0,u.useMemo)((function(){return ft}),[Ze,pe,He,ct,Je,S,P,t])}},1323:function(e,t,r){r.r(t);r(2791);var n=r(919),a=r(7162),i=r(4018),s=r(184),l=function(e){var t=(0,i.Z)();return(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"grid flex-column align-items-center card",children:[(0,s.jsx)("div",{className:"text-pink-500 font-bold text-5xl",children:"403"}),(0,s.jsx)(a.q,{size:"xlarge",icon:"pi pi-lock",className:"text-pink-500 bg-pink-100  my-4"}),(0,s.jsx)("div",{className:"text-900 font-medium text-3xl mb-2",children:e.message}),(0,s.jsx)("div",{className:"text-gray-600",children:"You do not have the necesary permisions. Please contact admins."}),(0,s.jsx)("div",{className:"mt-5 text-center",children:(0,s.jsx)(n.z,{onClick:function(){return t.navigate("/home")},icon:"pi pi-arrow-left",label:"Home"})})]})})};l.defaultProps={message:"Access Denied"},t.default=l},7691:function(e,t,r){r.r(t);r(2791);var n=r(919),a=r(7162),i=r(4018),s=r(184),l=function(e){var t=(0,i.Z)();return(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"grid flex-column align-items-center card",children:[(0,s.jsx)("div",{className:"text-pink-500 font-bold text-5xl",children:"500"}),(0,s.jsx)(a.q,{size:"xlarge",icon:"pi pi-lock",className:"text-pink-500 bg-pink-100  my-4"}),(0,s.jsx)("div",{className:"text-900 font-medium text-3xl mb-2",children:e.message}),(0,s.jsx)("div",{className:"text-gray-600",children:"An error occurred while processing your request. Please contact the Administrator for more information"}),(0,s.jsx)("div",{className:"mt-5 text-center",children:(0,s.jsx)(n.z,{onClick:function(){return t.navigate("/home")},icon:"pi pi-arrow-left",label:"Home"})})]})})};l.defaultProps={message:"Access Denied"},t.default=l}}]);
//# sourceMappingURL=1450.b244828e.chunk.js.map