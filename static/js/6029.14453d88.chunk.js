"use strict";(self.webpackChunkpiket=self.webpackChunkpiket||[]).push([[6029],{7842:function(a,e,i){var n=i(4165),t=i(5861),r=i(1413),s=i(885),l=i(2791),o=i(4018),c=i(1933),d=i(4072),m=i(4621);e.Z=function(a){var e=a.props,i=a.formDefaultValues,u=a.afterSubmit,p=(0,o.Z)(),g=(0,d.Z)(),f=(0,l.useState)(!0),h=(0,s.Z)(f,1)[0],v=p.getPageFormData(e.pageName),b=e.formData,x=(0,r.Z)((0,r.Z)((0,r.Z)({},i),b),v),j=(0,l.useState)(x),N=(0,s.Z)(j,2),y=N[0],S=N[1],_=(0,c.useQueryClient)(),Z=(0,c.useMutation)((function(a){var i,n=e.apiPath;i=Array.isArray(a)?a.map((function(a){return D(a)})):D(a);return g.post(n,i).then((function(a){return null===a||void 0===a?void 0:a.data}))}),{retry:!1,onSuccess:function(a){_.invalidateQueries(e.pageName),u&&u(a)},onError:function(a){p.showPageRequestError(a)}});function D(a){var e=(0,r.Z)({},a);return Object.keys(e).forEach((function(a){var i=e[a];if(Array.isArray(i)){var n=i[0];e[a]=n&&"string"==typeof n?i.toString():i}else i instanceof Date?e[a]=i.toISOString().slice(0,19).replace("T"," "):""===i&&(e[a]=null)})),e}var w={setFormData:S,submitForm:function(a){var i=e.msgBeforeSave;i?(0,m.V)({header:e.msgTitle,message:i,icon:"pi pi-save",accept:function(){var e=(0,t.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z.mutate(a);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),reject:function(){}}):Z.mutate(a)},inputClassName:function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w-full";return a?"".concat(e," p-invalid"):e},resetForm:function(){S(x)},handleSubmit:function(a,i){i.isValid||p.flashMsg(e.formValidationError,e.formValidationMsg,"error")},formData:y,pageReady:h,saving:Z.isLoading};return(0,l.useMemo)((function(){return w}),[y,h,Z.isLoading])}},6029:function(a,e,i){i.r(e);var n=i(5705),t=i(9562),r=i(919),s=i(9025),l=i(2557),o=i(3898),c=i(4018),d=i(7842),m=i(184),u=function(a){var e=(0,c.Z)(),i=t.Ry().shape({nama_bidang:t.Z_().required().label("Mapel")}),u=(0,d.Z)({props:a,formDefaultValues:{nama_bidang:""},afterSubmit:function(i){e.flashMsg(a.msgTitle,a.msgAfterSave),g(),e.isDialogOpen()?e.closeDialogs():a.redirect&&e.navigate("/tbl_bidang_study")}}),p=u.formData,g=u.resetForm,f=u.handleSubmit,h=u.submitForm,v=u.pageReady,b=u.loading,x=u.saving,j=u.inputClassName;return b?(0,m.jsx)("div",{className:"p-3 text-center",children:(0,m.jsx)(l.G,{style:{width:"50px",height:"50px"}})}):v?(0,m.jsxs)("main",{id:"TblBidangStudyAddPage",className:"main-page",children:[a.showHeader&&(0,m.jsx)("section",{className:"page-section mb-3",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsxs)("div",{className:"grid align-items-center",children:[!a.isSubPage&&(0,m.jsx)("div",{className:"col-fixed ",children:(0,m.jsx)(r.z,{onClick:function(){return e.navigate(-1)},label:"",className:"p-button p-button-text ",icon:"pi pi-arrow-left"})}),(0,m.jsx)("div",{className:"col ",children:(0,m.jsx)(o.D,{title:"Tambah Mapel",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})})]})})}),(0,m.jsx)("section",{className:"page-section ",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsx)("div",{className:"grid ",children:(0,m.jsx)("div",{className:"md:col-9 sm:col-12 comp-grid",children:(0,m.jsx)("div",{children:(0,m.jsx)(n.J9,{initialValues:p,validationSchema:i,onSubmit:function(a,e){return h(a)},children:function(e){var i;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(n.l0,{className:"".concat(a.isSubPage?"":"card "),children:[(0,m.jsx)("div",{className:"grid",children:(0,m.jsx)("div",{className:"col-12",children:(0,m.jsxs)("div",{className:"formgrid grid",children:[(0,m.jsx)("div",{className:"col-12 md:col-3",children:"Mapel *"}),(0,m.jsxs)("div",{className:"col-12 md:col-9",children:[(0,m.jsx)(s.o,{name:"nama_bidang",onChange:e.handleChange,value:e.values.nama_bidang,label:"Mapel",type:"text",placeholder:"Mata Pelajaran",className:j(null===e||void 0===e||null===(i=e.errors)||void 0===i?void 0:i.nama_bidang)}),(0,m.jsx)(n.Bc,{name:"nama_bidang",component:"span",className:"p-error"})]})]})})}),a.showFooter&&(0,m.jsx)("div",{className:"text-center my-3",children:(0,m.jsx)(r.z,{onClick:function(a){return f(a,e)},className:"p-button-primary",type:"submit",label:"Simpan",icon:"pi pi-send",loading:x})})]})})}})})})})})})]}):void 0};u.defaultProps={primaryKey:"id_bidang",pageName:"tbl_bidang_study",apiPath:"tbl_bidang_study/add",routeName:"tbl_bidang_studyadd",submitButtonLabel:"Simpan",formValidationError:"Form is invalid",formValidationMsg:"Please complete the form",msgTitle:"Create Record",msgAfterSave:"Data Berhasil Di Simpan !",msgBeforeSave:"",showHeader:!0,showFooter:!0,redirect:!0,isSubPage:!1},e.default=u}}]);
//# sourceMappingURL=6029.14453d88.chunk.js.map