"use strict";(self.webpackChunkpiket=self.webpackChunkpiket||[]).push([[7752],{7842:function(e,a,s){var i=s(4165),t=s(5861),r=s(1413),n=s(885),l=s(2791),o=s(4018),c=s(1933),m=s(4072),d=s(4621);a.Z=function(e){var a=e.props,s=e.formDefaultValues,u=e.afterSubmit,p=(0,o.Z)(),f=(0,m.Z)(),h=(0,l.useState)(!0),g=(0,n.Z)(h,1)[0],v=p.getPageFormData(a.pageName),x=a.formData,b=(0,r.Z)((0,r.Z)((0,r.Z)({},s),x),v),j=(0,l.useState)(b),N=(0,n.Z)(j,2),S=N[0],k=N[1],y=(0,c.useQueryClient)(),Z=(0,c.useMutation)((function(e){var s,i=a.apiPath;s=Array.isArray(e)?e.map((function(e){return D(e)})):D(e);return f.post(i,s).then((function(e){return null===e||void 0===e?void 0:e.data}))}),{retry:!1,onSuccess:function(e){y.invalidateQueries(a.pageName),u&&u(e)},onError:function(e){p.showPageRequestError(e)}});function D(e){var a=(0,r.Z)({},e);return Object.keys(a).forEach((function(e){var s=a[e];if(Array.isArray(s)){var i=s[0];a[e]=i&&"string"==typeof i?s.toString():s}else s instanceof Date?a[e]=s.toISOString().slice(0,19).replace("T"," "):""===s&&(a[e]=null)})),a}var w={setFormData:k,submitForm:function(e){var s=a.msgBeforeSave;s?(0,d.V)({header:a.msgTitle,message:s,icon:"pi pi-save",accept:function(){var a=(0,t.Z)((0,i.Z)().mark((function a(){return(0,i.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:Z.mutate(e);case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),reject:function(){}}):Z.mutate(e)},inputClassName:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w-full";return e?"".concat(a," p-invalid"):a},resetForm:function(){k(b)},handleSubmit:function(e,s){s.isValid||p.flashMsg(a.formValidationError,a.formValidationMsg,"error")},formData:S,pageReady:g,saving:Z.isLoading};return(0,l.useMemo)((function(){return w}),[S,g,Z.isLoading])}},7752:function(e,a,s){s.r(a);var i=s(5705),t=s(9562),r=s(919),n=s(9025),l=s(2557),o=s(3898),c=s(4018),m=s(7842),d=s(184),u=function(e){var a=(0,c.Z)(),s=t.Ry().shape({nama_kelas:t.Z_().required().label("Kelas")}),u=(0,m.Z)({props:e,formDefaultValues:{nama_kelas:""},afterSubmit:function(s){a.flashMsg(e.msgTitle,e.msgAfterSave),f(),a.isDialogOpen()?a.closeDialogs():e.redirect&&a.navigate("/tbl_kelas")}}),p=u.formData,f=u.resetForm,h=u.handleSubmit,g=u.submitForm,v=u.pageReady,x=u.loading,b=u.saving,j=u.inputClassName;return x?(0,d.jsx)("div",{className:"p-3 text-center",children:(0,d.jsx)(l.G,{style:{width:"50px",height:"50px"}})}):v?(0,d.jsxs)("main",{id:"TblKelasAddPage",className:"main-page",children:[e.showHeader&&(0,d.jsx)("section",{className:"page-section mb-3",children:(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("div",{className:"grid align-items-center",children:[!e.isSubPage&&(0,d.jsx)("div",{className:"col-fixed ",children:(0,d.jsx)(r.z,{onClick:function(){return a.navigate(-1)},label:"",className:"p-button p-button-text ",icon:"pi pi-arrow-left"})}),(0,d.jsx)("div",{className:"col ",children:(0,d.jsx)(o.D,{title:"Tambah Kelas",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})})]})})}),(0,d.jsx)("section",{className:"page-section ",children:(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"grid ",children:(0,d.jsx)("div",{className:"md:col-9 sm:col-12 comp-grid",children:(0,d.jsx)("div",{children:(0,d.jsx)(i.J9,{initialValues:p,validationSchema:s,onSubmit:function(e,a){return g(e)},children:function(a){var s;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(i.l0,{className:"".concat(e.isSubPage?"":"card "),children:[(0,d.jsx)("div",{className:"grid",children:(0,d.jsx)("div",{className:"col-12",children:(0,d.jsxs)("div",{className:"formgrid grid",children:[(0,d.jsx)("div",{className:"col-12 md:col-3",children:"Kelas *"}),(0,d.jsxs)("div",{className:"col-12 md:col-9",children:[(0,d.jsx)(n.o,{name:"nama_kelas",onChange:a.handleChange,value:a.values.nama_kelas,label:"Kelas",type:"text",placeholder:"Nama Kelas",className:j(null===a||void 0===a||null===(s=a.errors)||void 0===s?void 0:s.nama_kelas)}),(0,d.jsx)(i.Bc,{name:"nama_kelas",component:"span",className:"p-error"})]})]})})}),e.showFooter&&(0,d.jsx)("div",{className:"text-center my-3",children:(0,d.jsx)(r.z,{onClick:function(e){return h(e,a)},className:"p-button-primary",type:"submit",label:"Simpan",icon:"pi pi-send",loading:b})})]})})}})})})})})})]}):void 0};u.defaultProps={primaryKey:"id_kelas",pageName:"tbl_kelas",apiPath:"tbl_kelas/add",routeName:"tbl_kelasadd",submitButtonLabel:"Simpan",formValidationError:"Form is invalid",formValidationMsg:"Please complete the form",msgTitle:"Create Record",msgAfterSave:"Data Berhasil Di Simpan !",msgBeforeSave:"",showHeader:!0,showFooter:!0,redirect:!0,isSubPage:!1},a.default=u}}]);
//# sourceMappingURL=7752.97422f22.chunk.js.map