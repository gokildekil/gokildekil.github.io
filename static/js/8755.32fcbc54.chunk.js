"use strict";(self.webpackChunkpiket=self.webpackChunkpiket||[]).push([[8755],{9822:function(e,s,a){a.d(s,{v:function(){return c}});var l=a(4165),i=a(5861),r=a(885),n=a(2791),t=a(4072),c=function(e){var s=(0,n.useState)(!1),a=(0,r.Z)(s,2),c=a[0],o=a[1],d=(0,n.useState)(!1),m=(0,r.Z)(d,2),u=m[0],x=m[1],p=(0,t.Z)(),h=e.apiPath,v=e.value;function j(){return(j=(0,i.Z)((0,l.Z)().mark((function e(){var s,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=encodeURIComponent(v.trim()))){e.next=9;break}return x(!0),e.next=6,p.get("".concat(h,"/").concat(s));case 6:"true"===(null===(a=e.sent)||void 0===a?void 0:a.data.toString())?o(!0):o(!1),x(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e.children({loading:u,check:function(){return j.apply(this,arguments)},exist:c})}},7114:function(e,s,a){a.r(s);var l=a(5705),i=a(9562),r=a(919),n=a(9822),t=a(8550),c=a(3014),o=a(9025),d=a(1091),m=a(2557),u=a(3898),x=a(5815),p=a(4018),h=a(8355),v=a(184),j=function(e){var s=(0,p.Z)(),a=i.Ry().shape({username:i.Z_().required().label("Username"),telp:i.Z_().nullable().label("Telp"),foto_user:i.Z_().required().label("Foto User"),user_role_id:i.Rx().nullable().label("User Role Id")}),j=(0,h.Z)({props:e,formDefaultValues:{username:"",telp:"NULL",foto_user:"",user_role_id:""},afterSubmit:function(a){s.flashMsg(e.msgTitle,e.msgAfterSave),s.isDialogOpen()?s.closeDialogs():e.redirect&&s.navigate("/user")}}),f=j.formData,g=j.handleSubmit,N=j.submitForm,b=j.pageReady,_=j.loading,P=j.saving,w=j.apiRequestError,y=j.inputClassName;return _?(0,v.jsx)("div",{className:"p-3 text-center",children:(0,v.jsx)(m.G,{style:{width:"50px",height:"50px"}})}):w?(0,v.jsx)(d.M,{error:w}):b?(0,v.jsxs)("main",{id:"UserEditPage",className:"main-page",children:[e.showHeader&&(0,v.jsx)("section",{className:"page-section mb-3",children:(0,v.jsx)("div",{className:"container",children:(0,v.jsxs)("div",{className:"grid align-items-center",children:[!e.isSubPage&&(0,v.jsx)("div",{className:"col-fixed ",children:(0,v.jsx)(r.z,{onClick:function(){return s.navigate(-1)},label:"",className:"p-button p-button-text ",icon:"pi pi-arrow-left"})}),(0,v.jsx)("div",{className:"col ",children:(0,v.jsx)(u.D,{title:"Edit User",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})})]})})}),(0,v.jsx)("section",{className:"page-section ",children:(0,v.jsx)("div",{className:"container",children:(0,v.jsx)("div",{className:"grid ",children:(0,v.jsx)("div",{className:"md:col-9 sm:col-12 comp-grid",children:(0,v.jsx)("div",{children:(0,v.jsx)(l.J9,{initialValues:f,validationSchema:a,onSubmit:function(e,s){N(e)},children:function(a){var i,d;return(0,v.jsxs)(l.l0,{className:"".concat(e.isSubPage?"":"card "),children:[(0,v.jsxs)("div",{className:"grid",children:[(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:"formgrid grid",children:[(0,v.jsx)("div",{className:"col-12 md:col-3",children:"Username *"}),(0,v.jsx)("div",{className:"col-12 md:col-9",children:(0,v.jsx)(n.v,{value:a.values.username,apiPath:"components_data/user_username_exist",children:function(e){var s;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.o,{name:"username",onBlur:e.check,onChange:a.handleChange,value:a.values.username,label:"Username",type:"text",placeholder:"Enter Username",className:y(null===a||void 0===a||null===(s=a.errors)||void 0===s?void 0:s.username)}),(0,v.jsx)(l.Bc,{name:"username",component:"span",className:"p-error"}),!e.loading&&e.exist&&(0,v.jsx)("small",{className:"p-error",children:"Not available"}),e.loading&&(0,v.jsx)("small",{className:"text-500",children:"Checking..."})]})}})})]})}),(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:"formgrid grid",children:[(0,v.jsx)("div",{className:"col-12 md:col-3",children:"Telp"}),(0,v.jsxs)("div",{className:"col-12 md:col-9",children:[(0,v.jsx)(o.o,{name:"telp",onChange:a.handleChange,value:a.values.telp,label:"Telp",type:"text",placeholder:"Enter Telp",className:y(null===a||void 0===a||null===(i=a.errors)||void 0===i?void 0:i.telp)}),(0,v.jsx)(l.Bc,{name:"telp",component:"span",className:"p-error"})]})]})}),(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:"formgrid grid",children:[(0,v.jsx)("div",{className:"col-12 md:col-3",children:"Foto User *"}),(0,v.jsxs)("div",{className:"col-12 md:col-9",children:[(0,v.jsx)("div",{className:y(null===a||void 0===a||null===(d=a.errors)||void 0===d?void 0:d.foto_user),children:(0,v.jsx)(x.Q,{name:"foto_user",showUploadedFiles:!0,value:a.values.foto_user,uploadPath:"fileuploader/upload/foto_user",onChange:function(e){return a.setFieldValue("foto_user",e)},fileLimit:1,maxFileSize:1024,accept:".jpg,.png,.gif,.jpeg",multiple:!1,label:"Choose files or drop files here",onUploadError:function(e){return s.flashMsg("Upload error",e,"error")}})}),(0,v.jsx)(l.Bc,{name:"foto_user",component:"span",className:"p-error"})]})]})}),(0,v.jsx)("div",{className:"col-12",children:(0,v.jsxs)("div",{className:"formgrid grid",children:[(0,v.jsx)("div",{className:"col-12 md:col-3",children:"User Role Id"}),(0,v.jsx)("div",{className:"col-12 md:col-9",children:(0,v.jsx)(t.o,{apiPath:"components_data/role_id_option_list",children:function(e){var s,i=e.response;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.L,{name:"user_role_id",optionLabel:"label",optionValue:"value",value:a.values.user_role_id,onChange:a.handleChange,options:i,label:"User Role Id",placeholder:"Select a value ...",className:y(null===a||void 0===a||null===(s=a.errors)||void 0===s?void 0:s.user_role_id)}),(0,v.jsx)(l.Bc,{name:"user_role_id",component:"span",className:"p-error"})]})}})})]})})]}),e.showFooter&&(0,v.jsx)("div",{className:"text-center my-3",children:(0,v.jsx)(r.z,{onClick:function(e){return g(e,a)},type:"submit",label:"Perbaharui",icon:"pi pi-send",loading:P})})]})}})})})})})})]}):void 0};j.defaultProps={primaryKey:"id_user",pageName:"user",apiPath:"user/edit",routeName:"useredit",submitButtonLabel:"Perbaharui",formValidationError:"Form is invalid",formValidationMsg:"Please complete the form",msgTitle:"Update Record",msgAfterSave:"Data Berhasil Di Perbaharui !",msgBeforeSave:"",showHeader:!0,showFooter:!0,redirect:!0,isSubPage:!1},s.default=j},8755:function(e,s,a){a.r(s);var l=a(919),i=a(6502),r=a(1091),n=a(2557),t=a(3898),c=a(765),o=a(4018),d=a(7114),m=a(9946),u=a(184),x=function(e){var s=(0,o.Z)(),a=(0,m.Z)(e),x=a.item,p=a.pageReady,h=a.loading,v=a.apiRequestError,j=a.deleteItem;function f(){if(e.showFooter)return(0,u.jsx)("div",{className:"flex justify-content-between"})}return h?(0,u.jsx)("div",{className:"p-3 text-center",children:(0,u.jsx)(n.G,{style:{width:"50px",height:"50px"}})}):v?(0,u.jsx)(r.M,{error:v}):p?(0,u.jsxs)("div",{children:[(0,u.jsxs)("main",{id:"UserViewPage",className:"main-page",children:[e.showHeader&&(0,u.jsx)("section",{className:"page-section mb-3",children:(0,u.jsx)("div",{className:"container",children:(0,u.jsxs)("div",{className:"grid align-items-center",children:[!e.isSubPage&&(0,u.jsx)("div",{className:"col-fixed ",children:(0,u.jsx)(l.z,{onClick:function(){return s.navigate(-1)},label:"",className:"p-button p-button-text ",icon:"pi pi-arrow-left"})}),(0,u.jsx)("div",{className:"col ",children:(0,u.jsx)(t.D,{title:"User Details",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})})]})})}),(0,u.jsx)("section",{className:"page-section ",children:(0,u.jsx)("div",{className:"container",children:(0,u.jsx)("div",{className:"grid ",children:(0,u.jsx)("div",{className:"col comp-grid",children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"mb-3 grid justify-content-start",children:[(0,u.jsx)("div",{className:"col-12 md:col-4",children:(0,u.jsx)("div",{className:"flex gap-3 align-items-center card p-3",children:(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)("div",{className:"text-400 font-medium mb-1",children:"Username"}),(0,u.jsx)("div",{className:"font-bold",children:x.username})]})})}),(0,u.jsx)("div",{className:"col-12 md:col-4",children:(0,u.jsx)("div",{className:"flex gap-3 align-items-center card p-3",children:(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)("div",{className:"text-400 font-medium mb-1",children:"Email"}),(0,u.jsx)("div",{className:"font-bold",children:x.email})]})})}),(0,u.jsx)("div",{className:"col-12 md:col-4",children:(0,u.jsx)("div",{className:"flex gap-3 align-items-center card p-3",children:(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)("div",{className:"text-400 font-medium mb-1",children:"Telp"}),(0,u.jsx)("div",{className:"font-bold",children:x.telp})]})})}),(0,u.jsx)("div",{className:"col-12 md:col-4",children:(0,u.jsx)("div",{className:"flex gap-3 align-items-center card p-3",children:(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)("div",{className:"text-400 font-medium mb-1",children:"User Role Id"}),(0,u.jsx)("div",{className:"font-bold",children:x.user_role_id&&(0,u.jsx)(l.z,{className:"p-button-text",icon:"pi pi-eye",label:"Roles Detail",onClick:function(){return s.openPageDialog((0,u.jsx)(c.default,{isSubPage:!0,apiPath:"/roles/view/".concat(x.user_role_id)}),{closeBtn:!0})}})})]})})})]}),(0,u.jsxs)("div",{className:"flex justify-content-between",children:[e.exportButton&&(0,u.jsx)(l.z,{icon:"pi pi-print",className:"mx-xs",title:"Export"}),(0,u.jsx)("div",{className:"flex justify-content-start",children:function(e){var a=[{label:"Edit",command:function(a){s.openPageDialog((0,u.jsx)(d.default,{isSubPage:!0,apiPath:"/user/edit/".concat(e.id_user)}),{closeBtn:!0})},icon:"pi pi-pencil"},{label:"Delete",command:function(s){j(e.id_user)},icon:"pi pi-trash"}];return(0,u.jsx)(i.n,{className:"p-0 ",model:a})}(x)})]})]})})})})})]}),(0,u.jsx)(f,{})]}):void 0};x.defaultProps={id:null,primaryKey:"id_user",pageName:"user",apiPath:"user/view",routeName:"userview",msgBeforeDelete:"Yakin Menghapus Data Ini?",msgTitle:"Delete Record",msgAfterDelete:"Data Berhasil Di Hapus !",showHeader:!0,showFooter:!0,exportButton:!0,isSubPage:!1},s.default=x}}]);
//# sourceMappingURL=8755.32fcbc54.chunk.js.map