"use strict";(self.webpackChunkpiket=self.webpackChunkpiket||[]).push([[2276],{7842:function(e,a,r){var i=r(4165),t=r(5861),n=r(1413),s=r(885),l=r(2791),o=r(4018),u=r(1933),c=r(4072),m=r(4621);a.Z=function(e){var a=e.props,r=e.formDefaultValues,d=e.afterSubmit,g=(0,o.Z)(),p=(0,c.Z)(),f=(0,l.useState)(!0),h=(0,s.Z)(f,1)[0],v=g.getPageFormData(a.pageName),x=a.formData,b=(0,n.Z)((0,n.Z)((0,n.Z)({},r),x),v),N=(0,l.useState)(b),j=(0,s.Z)(N,2),S=j[0],y=j[1],Z=(0,u.useQueryClient)(),D=(0,u.useMutation)((function(e){var r,i=a.apiPath;r=Array.isArray(e)?e.map((function(e){return w(e)})):w(e);return p.post(i,r).then((function(e){return null===e||void 0===e?void 0:e.data}))}),{retry:!1,onSuccess:function(e){Z.invalidateQueries(a.pageName),d&&d(e)},onError:function(e){g.showPageRequestError(e)}});function w(e){var a=(0,n.Z)({},e);return Object.keys(a).forEach((function(e){var r=a[e];if(Array.isArray(r)){var i=r[0];a[e]=i&&"string"==typeof i?r.toString():r}else r instanceof Date?a[e]=r.toISOString().slice(0,19).replace("T"," "):""===r&&(a[e]=null)})),a}var C={setFormData:y,submitForm:function(e){var r=a.msgBeforeSave;r?(0,m.V)({header:a.msgTitle,message:r,icon:"pi pi-save",accept:function(){var a=(0,t.Z)((0,i.Z)().mark((function a(){return(0,i.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:D.mutate(e);case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),reject:function(){}}):D.mutate(e)},inputClassName:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w-full";return e?"".concat(a," p-invalid"):a},resetForm:function(){y(b)},handleSubmit:function(e,r){r.isValid||g.flashMsg(a.formValidationError,a.formValidationMsg,"error")},formData:S,pageReady:h,saving:D.isLoading};return(0,l.useMemo)((function(){return C}),[S,h,D.isLoading])}},2276:function(e,a,r){r.r(a);var i=r(5705),t=r(9562),n=r(919),s=r(9025),l=r(2557),o=r(3898),u=r(4018),c=r(7842),m=r(184),d=function(e){var a=(0,u.Z)(),r=t.Ry().shape({nama_guru:t.Z_().required().label("Nama Guru")}),d=(0,c.Z)({props:e,formDefaultValues:{nama_guru:""},afterSubmit:function(r){a.flashMsg(e.msgTitle,e.msgAfterSave),p(),a.isDialogOpen()?a.closeDialogs():e.redirect&&a.navigate("/tbl_guru")}}),g=d.formData,p=d.resetForm,f=d.handleSubmit,h=d.submitForm,v=d.pageReady,x=d.loading,b=d.saving,N=d.inputClassName;return x?(0,m.jsx)("div",{className:"p-3 text-center",children:(0,m.jsx)(l.G,{style:{width:"50px",height:"50px"}})}):v?(0,m.jsxs)("main",{id:"TblGuruAddPage",className:"main-page",children:[e.showHeader&&(0,m.jsx)("section",{className:"page-section mb-3",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsxs)("div",{className:"grid align-items-center",children:[!e.isSubPage&&(0,m.jsx)("div",{className:"col-fixed ",children:(0,m.jsx)(n.z,{onClick:function(){return a.navigate(-1)},label:"",className:"p-button p-button-text ",icon:"pi pi-arrow-left"})}),(0,m.jsx)("div",{className:"col ",children:(0,m.jsx)(o.D,{title:"Tambah Data Guru",titleClass:"text-2xl text-primary font-bold",subTitleClass:"text-sm text-500",separator:!1})})]})})}),(0,m.jsx)("section",{className:"page-section ",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsx)("div",{className:"grid ",children:(0,m.jsx)("div",{className:"md:col-9 sm:col-12 comp-grid",children:(0,m.jsx)("div",{children:(0,m.jsx)(i.J9,{initialValues:g,validationSchema:r,onSubmit:function(e,a){return h(e)},children:function(a){var r;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(i.l0,{className:"".concat(e.isSubPage?"":"card "),children:[(0,m.jsx)("div",{className:"grid",children:(0,m.jsx)("div",{className:"col-12",children:(0,m.jsxs)("div",{className:"formgrid grid",children:[(0,m.jsx)("div",{className:"col-12 md:col-3",children:"Nama Guru *"}),(0,m.jsxs)("div",{className:"col-12 md:col-9",children:[(0,m.jsx)(s.o,{name:"nama_guru",onChange:a.handleChange,value:a.values.nama_guru,label:"Nama Guru",type:"text",placeholder:"Nama Guru",className:N(null===a||void 0===a||null===(r=a.errors)||void 0===r?void 0:r.nama_guru)}),(0,m.jsx)(i.Bc,{name:"nama_guru",component:"span",className:"p-error"})]})]})})}),e.showFooter&&(0,m.jsx)("div",{className:"text-center my-3",children:(0,m.jsx)(n.z,{onClick:function(e){return f(e,a)},className:"p-button-primary",type:"submit",label:"Simpan",icon:"pi pi-send",loading:b})})]})})}})})})})})})]}):void 0};d.defaultProps={primaryKey:"id_guru",pageName:"tbl_guru",apiPath:"tbl_guru/add",routeName:"tbl_guruadd",submitButtonLabel:"Simpan",formValidationError:"Form is invalid",formValidationMsg:"Please complete the form",msgTitle:"Create Record",msgAfterSave:"Data Berhasil Di Simpan !",msgBeforeSave:"",showHeader:!0,showFooter:!0,redirect:!0,isSubPage:!1},a.default=d}}]);
//# sourceMappingURL=2276.856113c1.chunk.js.map